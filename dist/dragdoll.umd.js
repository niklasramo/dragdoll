!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("eventti"),require("tikki")):"function"==typeof define&&define.amd?define(["exports","eventti","tikki"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).DragDoll={},t.eventti,t.tikki)}(this,(function(t,e,i){"use strict";const s={start:"start",move:"move",cancel:"cancel",end:"end",destroy:"destroy"};class n{constructor(){this.clientX=null,this.clientY=null,this._isActive=!1,this._isDestroyed=!1,this._emitter=new e.Emitter}_start(t){this._isDestroyed||this._isActive||(this.clientX=t.clientX,this.clientY=t.clientY,this._isActive=!0,this._emitter.emit(s.start,Object.assign({type:s.start},t)))}_move(t){this._isActive&&(this.clientX=t.clientX,this.clientY=t.clientY,this._emitter.emit(s.move,Object.assign({type:s.move},t)))}_end(t){this._isActive&&(this.clientX=t.clientX,this.clientY=t.clientY,this._isActive=!1,this._emitter.emit(s.end,Object.assign({type:s.end},t)))}_cancel(t){this._isActive&&(this.clientX=t.clientX,this.clientY=t.clientY,this._isActive=!1,this._emitter.emit(s.cancel,Object.assign({type:s.cancel},t)))}on(t,e,i){return this._emitter.on(t,e,i)}off(t,e){this._emitter.off(t,e)}cancel(){this._isActive&&(this._isActive=!1,this._emitter.emit(s.cancel,{type:s.cancel,clientX:this.clientX,clientY:this.clientY}))}destroy(){this._isDestroyed||(this.cancel(),this._isDestroyed=!0,this._emitter.emit(s.destroy,{type:s.destroy}),this._emitter.off())}}function o(t,e){if("pointerId"in t)return t.pointerId===e?t:null;if("changedTouches"in t){let i=0;for(;i<t.changedTouches.length;i++)if(t.changedTouches[i].identifier===e)return t.changedTouches[i];return null}return t}const r=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}return t})(),c="ontouchstart"in window,h=!!window.PointerEvent,l=!!(navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS"));function a(t={}){const{capture:e=!0,passive:i=!0}=t;return r?{capture:e,passive:i}:{capture:e}}function d(t){return"auto"===t||void 0===t?h?"pointer":c?"touch":"mouse":t}const u={pointer:{start:"pointerdown",move:"pointermove",cancel:"pointercancel",end:"pointerup"},touch:{start:"touchstart",move:"touchmove",cancel:"touchcancel",end:"touchend"},mouse:{start:"mousedown",move:"mousemove",cancel:"",end:"mouseup"}};class m{constructor(t,i={}){const{listenerOptions:s={},sourceEvents:n="auto",startPredicate:o=(t=>!("button"in t&&t.button>0))}=i;this.element=t,this.pointerId=null,this.pointerType=null,this.clientX=null,this.clientY=null,this._isActive=!1,this._isDestroyed=!1,this._areWindowListenersBound=!1,this._startPredicate=o,this._listenerOptions=a(s),this._sourceEvents=d(n),this._emitter=new e.Emitter,this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onCancel=this._onCancel.bind(this),this._onEnd=this._onEnd.bind(this),t.addEventListener(u[this._sourceEvents].start,this._onStart,this._listenerOptions)}_getTrackedPointerEventData(t){return null===this.pointerId?null:o(t,this.pointerId)}_onStart(t){if(this._isDestroyed)return;if(null!==this.pointerId)return;if(!this._startPredicate(t))return;const e=function(t){return"pointerId"in t?t.pointerId:"changedTouches"in t?t.changedTouches[0]?t.changedTouches[0].identifier:null:-1}(t);if(null===e)return;const i=o(t,e);if(null===i)return;this.pointerId=e,this.pointerType=function(t){return"pointerType"in t?t.pointerType:"touches"in t?"touch":"mouse"}(t),this.clientX=i.clientX,this.clientY=i.clientY,this._isActive=!0;const n={type:s.start,clientX:this.clientX,clientY:this.clientY,pointerId:this.pointerId,pointerType:this.pointerType,srcEvent:t,target:i.target};this._emitter.emit(n.type,n),null!==this.pointerId&&this._isActive&&this._bindWindowListeners()}_onMove(t){const e=this._getTrackedPointerEventData(t);if(!e||!this._isActive)return;this.clientX=e.clientX,this.clientY=e.clientY;const i={type:s.move,clientX:this.clientX,clientY:this.clientY,pointerId:this.pointerId,pointerType:this.pointerType,srcEvent:t,target:e.target};this._emitter.emit(i.type,i)}_onCancel(t){const e=this._getTrackedPointerEventData(t);if(!e||!this._isActive)return;this._isActive=!1,this.clientX=e.clientX,this.clientY=e.clientY;const i={type:s.cancel,clientX:this.clientX,clientY:this.clientY,pointerId:this.pointerId,pointerType:this.pointerType,srcEvent:t,target:e.target};this._emitter.emit(i.type,i),this._reset()}_onEnd(t){const e=this._getTrackedPointerEventData(t);if(!e||!this._isActive)return;this._isActive=!1,this.clientX=e.clientX,this.clientY=e.clientY;const i={type:s.end,clientX:this.clientX,clientY:this.clientY,pointerId:this.pointerId,pointerType:this.pointerType,srcEvent:t,target:e.target};this._emitter.emit(i.type,i),this._reset()}_bindWindowListeners(){if(this._areWindowListenersBound)return;const{move:t,end:e,cancel:i}=u[this._sourceEvents];window.addEventListener(t,this._onMove,this._listenerOptions),window.addEventListener(e,this._onEnd,this._listenerOptions),i&&window.addEventListener(i,this._onCancel,this._listenerOptions),this._areWindowListenersBound=!0}_unbindWindowListeners(){if(this._areWindowListenersBound){const{move:t,end:e,cancel:i}=u[this._sourceEvents];window.removeEventListener(t,this._onMove,this._listenerOptions),window.removeEventListener(e,this._onEnd,this._listenerOptions),i&&window.removeEventListener(i,this._onCancel,this._listenerOptions),this._areWindowListenersBound=!1}}_reset(){this.pointerId=null,this.pointerType=null,this.clientX=null,this.clientY=null,this._isActive=!1,this._unbindWindowListeners()}cancel(){if(!this.pointerId||!this._isActive)return;this._isActive=!1;const t={type:s.cancel,clientX:this.clientX,clientY:this.clientY,pointerId:this.pointerId,pointerType:this.pointerType,srcEvent:null,target:null};this._emitter.emit(t.type,t),this._reset()}updateSettings(t){if(this._isDestroyed)return;const{listenerOptions:e,sourceEvents:i,startPredicate:s}=t,n=d(i),o=a(e);s&&this._startPredicate!==s&&(this._startPredicate=s),(e&&(this._listenerOptions.capture!==o.capture||this._listenerOptions.passive===o.passive)||i&&this._sourceEvents!==n)&&(this.element.removeEventListener(u[this._sourceEvents].start,this._onStart,this._listenerOptions),this._unbindWindowListeners(),this.cancel(),i&&(this._sourceEvents=n),e&&o&&(this._listenerOptions=o),this.element.addEventListener(u[this._sourceEvents].start,this._onStart,this._listenerOptions))}on(t,e,i){return this._emitter.on(t,e,i)}off(t,e){this._emitter.off(t,e)}destroy(){if(this._isDestroyed)return;this._isDestroyed=!0,this.cancel();const t={type:s.destroy};this._emitter.emit(t.type,t),this._emitter.off(),this.element.removeEventListener(u[this._sourceEvents].start,this._onStart,this._listenerOptions)}}const _=25;function p(t,e){if(!t.size||!e.size)return 1/0;let i=1/0;for(const s of t){const t=e.get(s);void 0!==t&&t<i&&(i=t)}return i}function f(t=500,e=.5,i=.25){const s=t*(e>0?1/e:1/0),n=t*(i>0?1/i:1/0),o=(e,i,o)=>{let r=0;return 0===e?(r=0,i>0?r=Math.max(0,i-n*(o/1e3)):i<0&&(r=Math.min(0,i+n*(o/1e3)))):1===e?(r=t,i<t?r=Math.min(t,i+s*(o/1e3)):i>t&&(r=Math.max(t,i-n*(o/1e3)))):(r=-t,i>-t?r=Math.max(-t,i-s*(o/1e3)):i<-t&&(r=Math.min(-t,i+n*(o/1e3)))),r};return function(t){return t.tickDeltaTime>0?{x:o(t.directionX,t.speedX,t.tickDeltaTime),y:o(t.directionY,t.speedY,t.tickDeltaTime)}:{x:t.speedX,y:t.speedY}}}t.tickerReadPhase=Symbol(),t.tickerWritePhase=Symbol(),t.ticker=new i.Ticker({phases:[t.tickerReadPhase,t.tickerWritePhase]});class v{constructor(){this.sensor=null,this.isEnded=!1,this.isStarted=!1,this.startEvent=null,this.nextMoveEvent=null,this.prevMoveEvent=null,this.endEvent=null,this.items=[]}}class g{constructor(){this.element=null,this.rootParent=null,this.rootContainingBlock=null,this.dragParent=null,this.dragContainingBlock=null,this.x=0,this.y=0,this.clientX=0,this.clientY=0,this.syncDiffX=0,this.syncDiffY=0,this.moveDiffX=0,this.moveDiffY=0,this.containerDiffX=0,this.containerDiffY=0}}class y{constructor(t){this._draggable=t,this._position={x:0,y:0},this._clientRect={left:0,top:0,width:0,height:0}}get targets(){let{targets:t}=this._draggable.settings.autoScroll;return"function"==typeof t&&(t=t(this._draggable)),t}get position(){let{getPosition:t}=this._draggable.settings.autoScroll;if("function"==typeof t){const e=t(this._draggable);this._position.x=e.x,this._position.y=e.y}else this._position.x=0,this._position.y=0;return this._position}get clientRect(){let{getClientRect:t}=this._draggable.settings.autoScroll;if("function"==typeof t){const{left:e,top:i,width:s,height:n}=t(this._draggable);this._clientRect.left=e,this._clientRect.top=i,this._clientRect.width=s,this._clientRect.height=n}else this._clientRect.left=0,this._clientRect.top=0,this._clientRect.width=0,this._clientRect.height=0;return this._clientRect}get staticAreaSize(){return this._draggable.settings.autoScroll.staticAreaSize}get smoothStop(){return this._draggable.settings.autoScroll.smoothStop}get speed(){return this._draggable.settings.autoScroll.speed}get onStart(){return this._draggable.settings.autoScroll.onStart}get onStop(){return this._draggable.settings.autoScroll.onStop}onPrepareScrollEffect(){const{_draggable:e}=this,i=e._syncId;t.ticker.off(t.tickerReadPhase,i),t.ticker.off(t.tickerWritePhase,i),e._prepareSynchronize()}onApplyScrollEffect(){this._draggable._applySynchronize()}}class S{constructor(t,e){this._data=[],this._createObject=t,this._onPut=e}pick(){return this._data.length?this._data.pop():this._createObject()}put(t){-1===this._data.indexOf(t)&&(this._onPut&&this._onPut(t),this._data.push(t))}reset(){this._data.length=0}}function w(t,e){const i=function(t,e){return function(t,e){return!(t.left+t.width<=e.left||e.left+e.width<=t.left||t.top+t.height<=e.top||e.top+e.height<=t.top)}(t,e)?(Math.min(t.left+t.width,e.left+e.width)-Math.max(t.left,e.left))*(Math.min(t.top+t.height,e.top+e.height)-Math.max(t.top,e.top)):0}(t,e);if(!i)return 0;return i/(Math.min(t.width,e.width)*Math.min(t.height,e.height))*100}function E(t){return t===window}const k=new WeakMap;function P(t,e){if(!e)return"";let i=k.get(t);return i||(i=window.getComputedStyle(t,null),k.set(t,i)),i.getPropertyValue(e)}function x(t,e){return parseFloat(P(t,e))||0}function T(t,e={width:0,height:0,left:0,right:0,top:0,bottom:0}){if(E(t))e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight,e.left=0,e.right=e.width,e.top=0,e.bottom=e.height;else{const{left:i,top:s}=t.getBoundingClientRect(),n=t.clientLeft||x(t,"border-left-width"),o=t.clientTop||x(t,"border-top-width");e.width=t.clientWidth,e.height=t.clientHeight,e.left=i+n,e.right=e.left+e.width,e.top=s+o,e.bottom=e.top+e.height}return e}function D(t){return E(t)||t===document.documentElement||t===document.body?window:t}function X(t){return E(t)?t.pageXOffset:t.scrollLeft}function Y(t){return E(t)?t.pageYOffset:t.scrollTop}function b(t){return E(t)?document.documentElement.scrollWidth-document.documentElement.clientWidth:t.scrollWidth-t.clientWidth}function R(t){return E(t)?document.documentElement.scrollHeight-document.documentElement.clientHeight:t.scrollHeight-t.clientHeight}const I={width:0,height:0,left:0,right:0,top:0,bottom:0},K=Object.assign({},I),A={direction:0,threshold:0,distance:0,value:0,maxValue:0,duration:0,speed:0,deltaTime:0,isEnding:!1},q={x:1,y:2},L={forward:4,reverse:8},M={none:0,left:q.x|L.reverse,right:q.x|L.forward},C={none:0,up:q.y|L.reverse,down:q.y|L.forward},O=Object.assign(Object.assign({},M),C);function W(t,e){return Math.min(e/2,t)}function z(t,e,i,s){return Math.max(0,i+2*t+s*e-s)/2}class B{constructor(){this.positionX=0,this.positionY=0,this.directionX=O.none,this.directionY=O.none,this.overlapCheckRequestTime=0}}class j{constructor(){this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0}reset(){this.requestX&&(this.requestX.action=null),this.requestY&&(this.requestY.action=null),this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0}addRequest(t){q.x&t.direction?(this.requestX&&this.removeRequest(this.requestX),this.requestX=t):(this.requestY&&this.removeRequest(this.requestY),this.requestY=t),t.action=this}removeRequest(t){this.requestX===t?(this.requestX=null,t.action=null):this.requestY===t&&(this.requestY=null,t.action=null)}computeScrollValues(){this.element&&(this.scrollLeft=this.requestX?this.requestX.value:X(this.element),this.scrollTop=this.requestY?this.requestY.value:Y(this.element))}scroll(){this.element&&(this.element.scrollTo?this.element.scrollTo(this.scrollLeft,this.scrollTop):(this.element.scrollLeft=this.scrollLeft,this.element.scrollTop=this.scrollTop))}}class U{constructor(){this.item=null,this.element=null,this.isActive=!1,this.isEnding=!1,this.direction=0,this.value=NaN,this.maxValue=0,this.threshold=0,this.distance=0,this.deltaTime=0,this.speed=0,this.duration=0,this.action=null}reset(){this.isActive&&this.onStop(),this.item=null,this.element=null,this.isActive=!1,this.isEnding=!1,this.direction=0,this.value=NaN,this.maxValue=0,this.threshold=0,this.distance=0,this.deltaTime=0,this.speed=0,this.duration=0,this.action=null}hasReachedEnd(){return L.forward&this.direction?this.value>=this.maxValue:this.value<=0}computeCurrentScrollValue(){return this.element?this.value!=this.value?q.x&this.direction?X(this.element):Y(this.element):Math.max(0,Math.min(this.value,this.maxValue)):0}computeNextScrollValue(){const t=this.speed*(this.deltaTime/1e3),e=L.forward&this.direction?this.value+t:this.value-t;return Math.max(0,Math.min(e,this.maxValue))}computeSpeed(){if(!this.item||!this.element)return 0;const{speed:t}=this.item;return"function"==typeof t?(A.direction=this.direction,A.threshold=this.threshold,A.distance=this.distance,A.value=this.value,A.maxValue=this.maxValue,A.duration=this.duration,A.speed=this.speed,A.deltaTime=this.deltaTime,A.isEnding=this.isEnding,t(this.element,A)):t}tick(t){return this.isActive||(this.isActive=!0,this.onStart()),this.deltaTime=t,this.value=this.computeCurrentScrollValue(),this.speed=this.computeSpeed(),this.value=this.computeNextScrollValue(),this.duration+=t,this.value}onStart(){if(!this.item||!this.element)return;const{onStart:t}=this.item;"function"==typeof t&&t(this.element,this.direction)}onStop(){if(!this.item||!this.element)return;const{onStop:t}=this.item;"function"==typeof t&&t(this.element,this.direction)}}function V(t=500,e=.5,i=.25){const s=t*(e>0?1/e:1/0),n=t*(i>0?1/i:1/0);return function(e,i){let o=0;if(!i.isEnding)if(i.threshold>0){const e=i.threshold-Math.max(0,i.distance);o=t/i.threshold*e}else o=t;const r=i.speed;if(r===o)return o;let c=o;return r<o?(c=r+s*(i.deltaTime/1e3),Math.min(o,c)):(c=r-n*(i.deltaTime/1e3),Math.max(o,c))}}class N{constructor(t={}){const{overlapCheckInterval:i=150}=t;this.items=[],this.settings={overlapCheckInterval:i},this._actions=[],this._isDestroyed=!1,this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,this._requests={[q.x]:new Map,[q.y]:new Map},this._itemData=new Map,this._requestPool=new S((()=>new U),(t=>t.reset())),this._actionPool=new S((()=>new j),(t=>t.reset())),this._emitter=new e.Emitter,this._frameRead=this._frameRead.bind(this),this._frameWrite=this._frameWrite.bind(this)}_frameRead(t){this._isDestroyed||(t&&this._tickTime?(this._tickDeltaTime=t-this._tickTime,this._tickTime=t,this._updateItems(),this._updateRequests(),this._updateActions()):(this._tickTime=t,this._tickDeltaTime=0))}_frameWrite(){this._isDestroyed||this._applyActions()}_startTicking(){this._isTicking||(this._isTicking=!0,t.ticker.on(t.tickerReadPhase,this._frameRead),t.ticker.on(t.tickerWritePhase,this._frameWrite))}_stopTicking(){this._isTicking&&(this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,t.ticker.off(t.tickerReadPhase,this._frameRead),t.ticker.off(t.tickerWritePhase,this._frameWrite))}_getItemClientRect(t,e={width:0,height:0,left:0,right:0,top:0,bottom:0}){const{clientRect:i}=t;return e.left=i.left,e.top=i.top,e.width=i.width,e.height=i.height,e.right=i.left+i.width,e.bottom=i.top+i.height,e}_requestItemScroll(t,e,i,s,n,o,r){const c=this._requests[e];let h=c.get(t);h?h.element===i&&h.direction===s||h.reset():(h=this._requestPool.pick(),c.set(t,h)),h.item=t,h.element=i,h.direction=s,h.threshold=n,h.distance=o,h.maxValue=r}_cancelItemScroll(t,e){const i=this._requests[e],s=i.get(t);s&&(s.action&&s.action.removeRequest(s),this._requestPool.put(s),i.delete(t))}_checkItemOverlap(t,e,i){const{staticAreaSize:s,targets:n}=t;if(!n.length)return e&&this._cancelItemScroll(t,q.x),void(i&&this._cancelItemScroll(t,q.y));const o=this._itemData.get(t),r=o.directionX,c=o.directionY;if(!r&&!c)return e&&this._cancelItemScroll(t,q.x),void(i&&this._cancelItemScroll(t,q.y));const h=this._getItemClientRect(t,I);let l=null,a=-1/0,d=0,u=0,m=O.none,_=0,p=0,f=null,v=-1/0,g=0,y=0,S=O.none,E=0,k=0,P=0;for(;P<n.length;P++){const t=n[P],o="number"==typeof t.threshold?t.threshold:50,x=!(!e||!r||"y"===t.axis),I=!(!i||!c||"x"===t.axis),A=t.priority||0;if((!x||A<a)&&(!I||A<v))continue;const q=D(t.element||t),L=x?b(q):-1,M=I?R(q):-1;if(!L&&!M)continue;const B=T(q,K),j=w(h,B);if(!(j<=0)){if(x&&A>=a&&L>0&&(A>a||j>u)){let t=0,e=O.none;const i=W(o,B.width),n=z(i,s,h.width,B.width);r===O.right?(t=B.right+n-h.right,t<=i&&X(q)<L&&(e=O.right)):r===O.left&&(t=h.left-(B.left-n),t<=i&&X(q)>0&&(e=O.left)),e&&(l=q,a=A,d=i,u=j,m=e,_=t,p=L)}if(I&&A>=v&&M>0&&(A>v||j>y)){let t=0,e=C.none;const i=W(o,B.height),n=z(i,s,h.height,B.height);c===O.down?(t=B.bottom+n-h.bottom,t<=i&&Y(q)<M&&(e=O.down)):c===O.up&&(t=h.top-(B.top-n),t<=i&&Y(q)>0&&(e=O.up)),e&&(f=q,v=A,g=i,y=j,S=e,E=t,k=M)}}}e&&(l&&m?this._requestItemScroll(t,q.x,l,m,d,_,p):this._cancelItemScroll(t,q.x)),i&&(f&&S?this._requestItemScroll(t,q.y,f,S,g,E,k):this._cancelItemScroll(t,q.y))}_updateScrollRequest(t){const e=t.item,{staticAreaSize:i,smoothStop:s,targets:n}=e,o=this._getItemClientRect(e,I);let r=null,c=0;for(;c<n.length;c++){const e=n[c],s=D(e.element||e);if(s!==t.element)continue;const h=!!(q.x&t.direction);if(h){if("y"===e.axis)continue}else if("x"===e.axis)continue;const l=h?b(s):R(s);if(l<=0)break;const a=T(s,K);if(w(o,a)<=0)break;const d=W("number"==typeof e.threshold?e.threshold:50,h?a.width:a.height),u=z(d,i,h?o.width:o.height,h?a.width:a.height);let m=0;if(m=t.direction===O.left?o.left-(a.left-u):t.direction===O.right?a.right+u-o.right:t.direction===O.up?o.top-(a.top-u):a.bottom+u-o.bottom,m>d)break;const _=h?X(s):Y(s);if(r=L.forward&t.direction?_>=l:_<=0,r)break;return t.maxValue=l,t.threshold=d,t.distance=m,t.isEnding=!1,!0}return!0===s&&t.speed>0?(null===r&&(r=t.hasReachedEnd()),t.isEnding=!r):t.isEnding=!1,t.isEnding}_updateItems(){for(let t=0;t<this.items.length;t++){const e=this.items[t],i=this._itemData.get(e),{x:s,y:n}=e.position,o=i.positionX,r=i.positionY;s===o&&n===r||(i.directionX=s>o?O.right:s<o?O.left:i.directionX,i.directionY=n>r?O.down:n<r?O.up:i.directionY,i.positionX=s,i.positionY=n,0===i.overlapCheckRequestTime&&(i.overlapCheckRequestTime=this._tickTime))}}_updateRequests(){const t=this.items,e=this._requests[q.x],i=this._requests[q.y];let s=0;for(;s<t.length;s++){const n=t[s],o=this._itemData.get(n),r=o.overlapCheckRequestTime;let c=r>0&&this._tickTime-r>this.settings.overlapCheckInterval,h=!0;const l=e.get(n);l&&l.isActive&&(h=!this._updateScrollRequest(l),h&&(c=!0,this._cancelItemScroll(n,q.x)));let a=!0;const d=i.get(n);d&&d.isActive&&(a=!this._updateScrollRequest(d),a&&(c=!0,this._cancelItemScroll(n,q.y))),c&&(o.overlapCheckRequestTime=0,this._checkItemOverlap(n,h,a))}}_requestAction(t,e){const i=e===q.x;let s=null,n=0;for(;n<this._actions.length;n++){if(s=this._actions[n],t.element===s.element){if(i?s.requestX:s.requestY)return void this._cancelItemScroll(t.item,e);break}s=null}s||(s=this._actionPool.pick()),s.element=t.element,s.addRequest(t),t.tick(this._tickDeltaTime),this._actions.push(s)}_updateActions(){let t=0;for(t=0;t<this.items.length;t++){const e=this.items[t],i=this._requests[q.x].get(e),s=this._requests[q.y].get(e);i&&this._requestAction(i,q.x),s&&this._requestAction(s,q.y)}for(t=0;t<this._actions.length;t++)this._actions[t].computeScrollValues()}_applyActions(){if(!this._actions.length)return;this._emitter.emit("beforescroll");let t,e=0;for(e=0;e<this._actions.length;e++)this._actions[e].scroll(),this._actionPool.put(this._actions[e]);for(this._actions.length=0,e=0;e<this.items.length;e++)t=this.items[e],t.onPrepareScrollEffect&&t.onPrepareScrollEffect();for(e=0;e<this.items.length;e++)t=this.items[e],t.onApplyScrollEffect&&t.onApplyScrollEffect();this._emitter.emit("afterscroll")}on(t,e){return this._emitter.on(t,e)}off(t,e){this._emitter.off(t,e)}addItem(t){if(this._isDestroyed||this._itemData.has(t))return;const{x:e,y:i}=t.position,s=new B;s.positionX=e,s.positionY=i,s.directionX=O.none,s.directionY=O.none,s.overlapCheckRequestTime=this._tickTime,this._itemData.set(t,s),this.items.push(t),this._isTicking||this._startTicking()}removeItem(t){if(this._isDestroyed)return;const e=this.items.indexOf(t);-1!==e&&(this._requests[q.x].get(t)&&(this._cancelItemScroll(t,q.x),this._requests[q.x].delete(t)),this._requests[q.y].get(t)&&(this._cancelItemScroll(t,q.y),this._requests[q.y].delete(t)),this._itemData.delete(t),this.items.splice(e,1),this._isTicking&&!this.items.length&&this._stopTicking())}isDestroyed(){return this._isDestroyed}isItemScrollingX(t){var e;return!!(null===(e=this._requests[q.x].get(t))||void 0===e?void 0:e.isActive)}isItemScrollingY(t){var e;return!!(null===(e=this._requests[q.y].get(t))||void 0===e?void 0:e.isActive)}isItemScrolling(t){return this.isItemScrollingX(t)||this.isItemScrollingY(t)}updateSettings(t={}){const{overlapCheckInterval:e=this.settings.overlapCheckInterval}=t;this.settings.overlapCheckInterval=e}destroy(){if(this._isDestroyed)return;const t=this.items.slice(0);let e=0;for(;e<t.length;e++)this.removeItem(t[e]);this._actions.length=0,this._requestPool.reset(),this._actionPool.reset(),this._emitter.off(),this._isDestroyed=!0}}function H(t){if("static"!==P(t,"position"))return!0;const e=P(t,"display");if("inline"===e||"none"===e)return!1;const i=P(t,"transform");if(i&&"none"!==i)return!0;const s=P(t,"perspective");if(s&&"none"!==s)return!0;const n=P(t,"content-visibility");if(n&&("auto"===n||"hidden"===n))return!0;const o=P(t,"contain");if(o&&("strict"===o||"content"===o||o.indexOf("paint")>-1||o.indexOf("layout")>-1))return!0;if(!l){const e=P(t,"filter");if(e&&"none"!==e)return!0;const i=P(t,"will-change");if(i&&(i.indexOf("transform")>-1||i.indexOf("perspective")>-1))return!0}return!1}function F(t){let e=t||document;for(;e&&e!==document&&!H(t);)e=e.parentElement||document;return e}function $(t,e={left:0,top:0}){if(e.left=0,e.top=0,t===document)return e;if(e.left=window.pageXOffset||0,e.top=window.pageYOffset||0,"self"in t&&t.self===window.self)return e;const{left:i,top:s}=t.getBoundingClientRect();return e.left+=i,e.top+=s,e.left+=x(t,"border-left-width"),e.top+=x(t,"border-top-width"),e}const G={left:0,top:0},J={left:0,top:0};function Q(t,e,i={left:0,top:0}){return i.left=0,i.top=0,t===e||($(t,G),$(e,J),i.left=J.left-G.left,i.top=J.top-G.top),i}const Z=/^matrix3d/,tt=/([^,]*,){4}/,et=/([^,]*,){12}/,it=/[^,]*,/;const st=!r||{capture:!0,passive:!0},nt={left:0,top:0},ot={x:0,y:0},rt={x:0,y:0},ct={x:0,y:0},ht={left:0,top:0,width:0,height:0},lt={container:null,startPredicate:()=>!0,getElements:()=>null,destroyElements:()=>{},getElementPosition:t=>function(t,e={x:0,y:0}){const i=P(t,"transform");if(!i||"none"===i)return e.x=0,e.y=0,e;const s=Z.test(i),n=i.replace(s?et:tt,""),o=n.replace(it,"");return e.x=parseFloat(n)||0,e.y=parseFloat(o)||0,e}(t,ot),getElementPositionChange:(t,e,i,s)=>(rt.x=s.clientX-i.clientX,rt.y=s.clientY-i.clientY,rt),renderElementPosition:(t,e,i)=>{t.style.transform=`translate3d(${e}px, ${i}px, 0px)`},autoScroll:{instance:null,targets:[],staticAreaSize:.2,speed:V(1e3,2e3,2500),smoothStop:!1,getPosition:dt,getClientRect:ut,onStart:null,onStop:null}};var at;function dt(t){const e=t.getDragData(),i=null==e?void 0:e.items[0];if(i)ct.x=i.x,ct.y=i.y;else{const t=e&&(e.nextMoveEvent||e.startEvent);ct.x=t?t.clientX:0,ct.y=t?t.clientY:0}return ct}function ut(t){const e=t.getDragData(),i=null==e?void 0:e.items[0];if(i&&i.element){const{left:t,top:e,width:s,height:n}=i.element.getBoundingClientRect();ht.left=t,ht.top=e,ht.width=s,ht.height=n}else{const t=e&&(e.nextMoveEvent||e.startEvent);ht.left=t?t.clientX-25:0,ht.top=t?t.clientY-25:0,ht.width=t?50:0,ht.height=t?50:0}return ht}function mt(t){const{instance:e=null,targets:i=[],staticAreaSize:s=.2,speed:n=V(),smoothStop:o=!1,getPosition:r=dt,getClientRect:c=ut,onStart:h=null,onStop:l=null}=t||{};return{instance:e,targets:i,staticAreaSize:s,speed:n,smoothStop:o,getPosition:r,getClientRect:c,onStart:h,onStop:l}}function _t(t,e=lt){const{container:i=e.container,startPredicate:s=e.startPredicate,getElements:n=e.getElements,getElementPosition:o=e.getElementPosition,getElementPositionChange:r=e.getElementPositionChange,renderElementPosition:c=e.renderElementPosition,destroyElements:h=e.destroyElements,autoScroll:l=e.autoScroll}=t;return{container:i,startPredicate:s,getElements:n,getElementPosition:o,getElementPositionChange:r,renderElementPosition:c,destroyElements:h,autoScroll:mt(l)}}!function(t){t[t.Pending=0]="Pending",t[t.Resolved=1]="Resolved",t[t.Rejected=2]="Rejected"}(at||(at={}));const pt=new N,ft=new Set(["auto","scroll","overlay"]);function vt(t){return!!(ft.has(P(t,"overflow"))||ft.has(P(t,"overflow-x"))||ft.has(P(t,"overflow-y")))}function gt(t){const e=[];return vt(t)&&e.push(t),function(t,e=[]){let i=null;for(;t&&(i=t.parentNode,i&&!(i instanceof Document));)vt(t="host"in i?i.host:i)&&e.push(t);e.push(window)}(t,e),e}t.AUTO_SCROLL_AXIS=q,t.AUTO_SCROLL_AXIS_DIRECTION=L,t.AUTO_SCROLL_DIRECTION=O,t.AutoScroll=N,t.BaseSensor=n,t.Draggable=class{constructor(t,i={}){this.sensors=t,this.settings=_t(i),this._sensorListeners=new Map,this._sensorStartPredicates=new Map,this._emitter=new e.Emitter,this._drag=null,this._autoScrollProxy=null,this._startId=Symbol(),this._moveId=Symbol(),this._syncId=Symbol(),this._isDestroyed=!1,this._onMove=this._onMove.bind(this),this._onScroll=this._onScroll.bind(this),this._onEnd=this._onEnd.bind(this),this._prepareStart=this._prepareStart.bind(this),this._applyStart=this._applyStart.bind(this),this._prepareMove=this._prepareMove.bind(this),this._applyMove=this._applyMove.bind(this),this._prepareSynchronize=this._prepareSynchronize.bind(this),this._applySynchronize=this._applySynchronize.bind(this),this.sensors.forEach((t=>{this._sensorStartPredicates.set(t,{state:at.Pending,event:null}),this._sensorListeners.set(t,{onMove:e=>this._onMove(t,e),onEnd:e=>this._onEnd(t,e)});const{onMove:e,onEnd:i}=this._sensorListeners.get(t);t.on("start",e),t.on("move",e),t.on("cancel",i),t.on("end",i),t.on("destroy",i)}))}_emit(t,...e){this._emitter.emit(t,...e)}_onMove(e,i){const s=this._sensorStartPredicates.get(e);if(s)switch(s.state){case at.Pending:{s.event=i;const t=this.settings.startPredicate(i,e,this);!0===t?this.resolveStartPredicate(e):!1===t&&this.rejectStartPredicate(e);break}case at.Resolved:this._drag&&(this._drag.nextMoveEvent=i,t.ticker.once(t.tickerReadPhase,this._prepareMove,this._moveId),t.ticker.once(t.tickerWritePhase,this._applyMove,this._moveId))}}_onScroll(){this.synchronize()}_onEnd(t,e){const i=this._sensorStartPredicates.get(t);i&&(this._drag?i.state===at.Resolved&&(this._drag.endEvent=e,this._sensorStartPredicates.forEach((t=>{t.state=at.Pending,t.event=null})),this.stop()):(i.state=at.Pending,i.event=null))}_prepareStart(){const t=this._drag;if(!t||!t.startEvent)return;const e=this.settings.getElements(t.startEvent)||[];t.items=e.map((t=>{const e=new g;e.element=t,t.isConnected||(this.settings.container?this.settings.container.appendChild(t):document.body.appendChild(t));const i=t.parentNode;e.rootParent=i;const s=F(i);e.rootContainingBlock=s;const n=this.settings.container||i;e.dragParent=n;const o=n===i?s:F(n);e.dragContainingBlock=o;const{x:r,y:c}=this.settings.getElementPosition(t);e.x=r,e.y=c;const h=t.getBoundingClientRect();if(e.clientX=h.left,e.clientY=h.top,s!==o){const{left:t,top:i}=Q(o,s,nt);e.containerDiffX=t,e.containerDiffY=i}return e}))}_applyStart(){var t;let e=this._drag;if(!e||!e.startEvent)return;if(this._emit("beforestart",e.startEvent),e=this._drag,!e||!e.startEvent)return;const{container:i}=this.settings;if(i)for(const t of e.items)t.element&&t.element.parentNode!==i&&(i.appendChild(t.element),t.x+=t.containerDiffX,t.y+=t.containerDiffY,this.settings.renderElementPosition(t.element,t.x,t.y));window.addEventListener("scroll",this._onScroll,st),this._autoScrollProxy||(this._autoScrollProxy=new y(this),null===(t=this.settings.autoScroll.instance)||void 0===t||t.addItem(this._autoScrollProxy)),e.isStarted=!0,this._emit("start",e.startEvent)}_prepareMove(){const t=this._drag;if(!t||!t.startEvent)return;const e=t.nextMoveEvent,i=t.prevMoveEvent||t.startEvent;if(e&&e!==i){for(const s of t.items){if(!s.element)continue;const{x:n,y:o}=this.settings.getElementPositionChange(s.element,t.startEvent,i,e);n&&(s.x=s.x-s.moveDiffX+n,s.clientX=s.clientX-s.moveDiffX+n,s.moveDiffX=n),o&&(s.y=s.y-s.moveDiffY+o,s.clientY=s.clientY-s.moveDiffY+o,s.moveDiffY=o)}t.prevMoveEvent=e}}_applyMove(){let t=this._drag;if(t&&t.nextMoveEvent){for(const e of t.items)e.moveDiffX=0,e.moveDiffY=0;if(this._emit("beforemove",t.nextMoveEvent),t=this._drag,t&&t.nextMoveEvent){for(const e of t.items)e.element&&this.settings.renderElementPosition(e.element,e.x,e.y);this._emit("move",t.nextMoveEvent)}}}_prepareSynchronize(){const t=this._drag;if(t)for(const e of t.items){if(!e.element)continue;if(e.rootContainingBlock!==e.dragContainingBlock){const{left:t,top:i}=Q(e.dragContainingBlock,e.rootContainingBlock,nt);e.containerDiffX=t,e.containerDiffY=i}const{left:t,top:i}=e.element.getBoundingClientRect(),s=e.clientX-e.moveDiffX-t;e.x=e.x-e.syncDiffX+s,e.syncDiffX=s;const n=e.clientY-e.moveDiffY-i;e.y=e.y-e.syncDiffY+n,e.syncDiffY=n}}_applySynchronize(){const t=this._drag;if(t)for(const e of t.items)e.element&&(e.syncDiffX=0,e.syncDiffY=0,this.settings.renderElementPosition(e.element,e.x,e.y))}isActive(){return!!this._drag}getDragData(){return this._drag}on(t,e){return this._emitter.on(t,e)}off(t,e){this._emitter.off(t,e)}synchronize(){this._drag&&(t.ticker.once(t.tickerReadPhase,this._prepareSynchronize,this._syncId),t.ticker.once(t.tickerWritePhase,this._applySynchronize,this._syncId))}resolveStartPredicate(e,i){const s=this._sensorStartPredicates.get(e);if(!s)return;const n=i||s.event;s.state===at.Pending&&n&&(s.state=at.Resolved,this._drag=new v,this._drag.sensor=e,this._drag.startEvent=n,s.event=null,this._sensorStartPredicates.forEach(((t,i)=>{i!==e&&(t.state=at.Rejected,t.event=null)})),t.ticker.once(t.tickerReadPhase,this._prepareStart,this._startId),t.ticker.once(t.tickerWritePhase,this._applyStart,this._startId))}rejectStartPredicate(t){const e=this._sensorStartPredicates.get(t);(null==e?void 0:e.state)===at.Pending&&(e.state=at.Rejected,e.event=null)}stop(){var e;const i=this._drag;if(i&&!i.isEnded){if(i.isEnded=!0,this._emit("beforeend",i.endEvent),this._autoScrollProxy&&(null===(e=this.settings.autoScroll.instance)||void 0===e||e.removeItem(this._autoScrollProxy),this._autoScrollProxy=null),t.ticker.off(t.tickerReadPhase,this._startId),t.ticker.off(t.tickerWritePhase,this._startId),t.ticker.off(t.tickerReadPhase,this._moveId),t.ticker.off(t.tickerWritePhase,this._moveId),t.ticker.off(t.tickerReadPhase,this._syncId),t.ticker.off(t.tickerWritePhase,this._syncId),i.isStarted){window.removeEventListener("scroll",this._onScroll,st);const t=[];for(const e of i.items)e.element&&(t.push(e.element),e.rootParent&&e.element.parentNode!==e.rootParent&&(e.x-=e.containerDiffX,e.y-=e.containerDiffY,e.containerDiffX=0,e.containerDiffY=0,e.rootParent.appendChild(e.element),this.settings.renderElementPosition(e.element,e.x,e.y)));t.length&&this.settings.destroyElements(t)}this._emit("end",i.endEvent),this._drag=null}}updateSettings(t={}){this.settings=_t(t,this.settings)}destroy(){this._isDestroyed||(this._isDestroyed=!0,this.stop(),this._sensorListeners.forEach((({onMove:t,onEnd:e},i)=>{i.off("start",t),i.off("move",t),i.off("cancel",e),i.off("end",e),i.off("destroy",e)})),this._sensorListeners.clear(),this._sensorStartPredicates.clear(),this._emitter.off())}},t.KeyboardMotionSensor=class extends n{constructor(t={}){super();const{startPredicate:e=(()=>{if(document.activeElement){const{left:t,top:e}=document.activeElement.getBoundingClientRect();return{x:t,y:e}}return null}),speed:i=f(),startKeys:s=[" ","Space","Enter"],moveLeftKeys:n=["ArrowLeft"],moveRightKeys:o=["ArrowRight"],moveUpKeys:r=["ArrowUp"],moveDownKeys:c=["ArrowDown"],cancelKeys:h=["Escape"],endKeys:l=[" ","Space","Enter"]}=t;this.directionX=0,this.directionY=0,this.speedX=0,this.speedY=0,this.tickTime=0,this.tickDeltaTime=0,this._isTicking=!1,this._startPredicate=e,this._speed=i,this._startKeys=new Set(s),this._cancelKeys=new Set(h),this._endKeys=new Set(l),this._moveLeftKeys=new Set(n),this._moveRightKeys=new Set(o),this._moveUpKeys=new Set(r),this._moveDownKeys=new Set(c),this._moveKeys=new Set([...n,...o,...r,...c]),this._moveKeyTimestamps=new Map,this.cancel=this.cancel.bind(this),this._onTick=this._onTick.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onKeyUp=this._onKeyUp.bind(this),document.addEventListener("keydown",this._onKeyDown),document.addEventListener("keyup",this._onKeyUp),window.addEventListener("blur",this.cancel),window.addEventListener("visibilitychange",this.cancel)}_onTick(t){if(!this._isDestroyed&&this._isTicking)if(t&&this.tickTime){if(this.tickDeltaTime=t-this.tickTime,this.tickTime=t,this._updateSpeed(),0!==this.speedX||0!==this.speedY){const t=this.tickDeltaTime/1e3,e=this.speedX*t,i=this.speedY*t,s=this.clientX+e,n=this.clientY+i;s===this.clientX&&n===this.clientY||this._move({clientX:s,clientY:n})}}else this.tickTime=t,this.tickDeltaTime=0}_startTicking(){this._isDestroyed||this._isTicking||(this._isTicking=!0,t.ticker.on(t.tickerReadPhase,this._onTick))}_stopTicking(){!this._isDestroyed&&this._isTicking&&(this._isTicking=!1,this._moveKeyTimestamps.clear(),this.tickTime=0,this.tickDeltaTime=0,this.directionX=0,this.directionY=0,this.speedX=0,this.speedY=0,t.ticker.off(t.tickerReadPhase,this._onTick))}_updateDirection(){const t=p(this._moveLeftKeys,this._moveKeyTimestamps),e=p(this._moveRightKeys,this._moveKeyTimestamps),i=p(this._moveUpKeys,this._moveKeyTimestamps),s=p(this._moveDownKeys,this._moveKeyTimestamps);this.directionX=t===e?0:t<e?-1:1,this.directionY=i===s?0:i<s?-1:1}_updateSpeed(){if("function"==typeof this._speed){const{x:t,y:e}=this._speed(this);this.speedX=t,this.speedY=e}else this.speedX=this._speed*this.directionX,this.speedY=this._speed*this.directionY}_onKeyUp(t){this._moveKeyTimestamps.get(t.key)&&(this._moveKeyTimestamps.delete(t.key),this._updateDirection())}_onKeyDown(t){if(this._isActive)return this._cancelKeys.has(t.key)?(t.preventDefault(),this._stopTicking(),void this._cancel({clientX:this.clientX,clientY:this.clientY})):this._endKeys.has(t.key)?(t.preventDefault(),this._stopTicking(),void this._end({clientX:this.clientX,clientY:this.clientY})):this._moveKeys.has(t.key)?(t.preventDefault(),void(this._moveKeyTimestamps.get(t.key)||(this._moveKeyTimestamps.set(t.key,Date.now()),this._updateDirection()))):void 0;if(this._startKeys.has(t.key)){const e=this._startPredicate(t,this);e&&(t.preventDefault(),this._start({clientX:e.x,clientY:e.y}),this._startTicking())}}updateSettings(t={}){let e=!1;if(void 0!==t.startPredicate&&(this._startPredicate=t.startPredicate),void 0!==t.speed&&(this._speed=t.speed),void 0!==t.startKeys&&(this._startKeys=new Set(t.startKeys)),void 0!==t.cancelKeys&&(this._cancelKeys=new Set(t.cancelKeys)),void 0!==t.endKeys&&(this._endKeys=new Set(t.endKeys)),void 0!==t.moveLeftKeys&&(this._moveLeftKeys=new Set(t.moveLeftKeys),e=!0),void 0!==t.moveRightKeys&&(this._moveRightKeys=new Set(t.moveRightKeys),e=!0),void 0!==t.moveUpKeys&&(this._moveUpKeys=new Set(t.moveUpKeys),e=!0),void 0!==t.moveDownKeys&&(this._moveDownKeys=new Set(t.moveDownKeys),e=!0),e){const t=[...this._moveLeftKeys,...this._moveRightKeys,...this._moveUpKeys,...this._moveDownKeys];[...this._moveKeys].every(((e,i)=>t[i]===e))||(this._moveKeys=new Set(t),this._moveKeyTimestamps.clear(),this._updateDirection())}}tick(t){this._onTick(t)}cancel(){this._isActive&&(this._stopTicking(),this._cancel({clientX:this.clientX,clientY:this.clientY}))}destroy(){this._isDestroyed||(document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("keyup",this._onKeyUp),window.removeEventListener("blur",this.cancel),window.removeEventListener("visibilitychange",this.cancel),super.destroy())}},t.KeyboardSensor=class extends n{constructor(t={}){super();const{startPredicate:e=(t=>{if(("Enter"===t.key||"Space"===t.key||" "===t.key)&&document.activeElement){const{left:t,top:e}=document.activeElement.getBoundingClientRect();return{x:t,y:e}}return null}),movePredicate:i=((t,e)=>{switch(t.key){case"ArrowLeft":return{x:e.clientX-_,y:e.clientY};case"ArrowRight":return{x:e.clientX+_,y:e.clientY};case"ArrowUp":return{x:e.clientX,y:e.clientY-_};case"ArrowDown":return{x:e.clientX,y:e.clientY+_};default:return null}}),cancelPredicate:s=((t,e)=>"Escape"===t.key?{x:e.clientX,y:e.clientY}:null),endPredicate:n=((t,e)=>"Enter"===t.key||"Space"===t.key||" "===t.key?{x:e.clientX,y:e.clientY}:null)}=t;this._startPredicate=e,this._movePredicate=i,this._cancelPredicate=s,this._endPredicate=n,this._onKeyDown=this._onKeyDown.bind(this),document.addEventListener("keydown",this._onKeyDown)}_onKeyDown(t){if(!this._isActive){const e=this._startPredicate(t,this);return void(e&&(t.preventDefault(),this._start({clientX:e.x,clientY:e.y,srcEvent:t})))}const e=this._cancelPredicate(t,this);if(e)return t.preventDefault(),void this._cancel({clientX:e.x,clientY:e.y,srcEvent:t});const i=this._endPredicate(t,this);if(i)return t.preventDefault(),void this._end({clientX:i.x,clientY:i.y,srcEvent:t});const s=this._movePredicate(t,this);return s?(t.preventDefault(),void this._move({clientX:s.x,clientY:s.y,srcEvent:t})):void 0}updateSettings(t={}){void 0!==t.startPredicate&&(this._startPredicate=t.startPredicate),void 0!==t.movePredicate&&(this._movePredicate=t.movePredicate),void 0!==t.cancelPredicate&&(this._cancelPredicate=t.cancelPredicate),void 0!==t.endPredicate&&(this._endPredicate=t.endPredicate)}destroy(){this._isDestroyed||(document.removeEventListener("keydown",this._onKeyDown),super.destroy())}},t.PointerSensor=m,t.SensorEventType=s,t.autoScroll=pt,t.autoScrollSmoothSpeed=V,t.createPointerSensorStartPredicate=function(t={}){let e,i,s=0,n=null;const{timeout:o=250,fallback:r=(()=>!0)}=t,c=t=>t.preventDefault(),h=t=>{s&&(e?t.cancelable&&t.preventDefault():void 0===e&&(t.cancelable&&t.timeStamp-s>o?(e=!0,t.preventDefault()):e=!1))};return(t,l,a)=>{if(!(l instanceof m))return r(t,l,a);const d=t;if("touch"===d.pointerType){if("start"===d.type&&("pointerdown"===d.srcEvent.type||"touchstart"===d.srcEvent.type)){n=d.target;const t=n?gt(n):[];t.forEach((t=>{t.addEventListener("touchmove",h,{passive:!1,capture:!0})}));const r=()=>{s&&(a.off("beforeend",r),a.sensors.forEach((t=>{t instanceof m&&t.off("end",r)})),null==n||n.removeEventListener("contextmenu",c),t.forEach((t=>{t.removeEventListener("touchmove",h,{capture:!0})})),s=0,e=void 0,n=null,i=void window.clearTimeout(i))};e=void 0,s=d.srcEvent.timeStamp,null==n||n.addEventListener("contextmenu",c),a.on("beforeend",r),a.sensors.forEach((t=>{t instanceof m&&t.off("end",r)})),o>0&&(i=window.setTimeout((()=>{a.resolveStartPredicate(l),e=!0,i=void 0}),o))}return e}return"start"===d.type&&!d.srcEvent.button}},t.keyboardMotionSensorSmoothSpeed=f,t.setTicker=function(e,i,s){t.tickerReadPhase=i,t.tickerWritePhase=s,t.ticker=e},Object.defineProperty(t,"__esModule",{value:!0})}));