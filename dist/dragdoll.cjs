"use strict";var Ee=Object.defineProperty;var ft=Object.getOwnPropertyDescriptor;var gt=Object.getOwnPropertyNames;var Et=Object.prototype.hasOwnProperty;var St=(r,e)=>{for(var t in e)Ee(r,t,{get:e[t],enumerable:!0})},vt=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of gt(e))!Et.call(r,i)&&i!==t&&Ee(r,i,{get:()=>e[i],enumerable:!(n=ft(e,i))||n.enumerable});return r};var _t=r=>vt(Ee({},"__esModule",{value:!0}),r);var Lt={};St(Lt,{AUTO_SCROLL_AXIS:()=>h,AUTO_SCROLL_AXIS_DIRECTION:()=>M,AUTO_SCROLL_DIRECTION:()=>p,AutoScroll:()=>J,BaseMotionSensor:()=>z,BaseSensor:()=>X,Draggable:()=>ke,DraggableAutoScroll:()=>he,KeyboardMotionSensor:()=>xe,KeyboardSensor:()=>be,PointerSensor:()=>Y,SensorEventType:()=>v,autoScroll:()=>de,autoScrollPlugin:()=>kt,autoScrollSmoothSpeed:()=>Ue,createPointerSensorStartPredicate:()=>Rt,setTicker:()=>yt,ticker:()=>u,tickerReadPhase:()=>E,tickerWritePhase:()=>_});module.exports=_t(Lt);var v={start:"start",move:"move",cancel:"cancel",end:"end",destroy:"destroy"};var Ge=require("eventti");var X=class{constructor(){this.drag=null,this.isDestroyed=!1,this._emitter=new Ge.Emitter}_createDragData(e){return{x:e.x,y:e.y}}_updateDragData(e){this.drag&&(this.drag.x=e.x,this.drag.y=e.y)}_resetDragData(){this.drag=null}_start(e){this.isDestroyed||this.drag||(this.drag=this._createDragData(e),this._emitter.emit(v.start,e))}_move(e){this.drag&&(this._updateDragData(e),this._emitter.emit(v.move,e))}_end(e){this.drag&&(this._updateDragData(e),this._emitter.emit(v.end,e),this._resetDragData())}_cancel(e){this.drag&&(this._updateDragData(e),this._emitter.emit(v.cancel,e),this._resetDragData())}on(e,t,n){return this._emitter.on(e,t,n)}off(e,t){this._emitter.off(e,t)}cancel(){this.drag&&(this._emitter.emit(v.cancel,{type:v.cancel,x:this.drag.x,y:this.drag.y}),this._resetDragData())}destroy(){this.isDestroyed||(this.isDestroyed=!0,this.cancel(),this._emitter.emit(v.destroy,{type:v.destroy}),this._emitter.off())}};var ze=require("tikki"),E=Symbol(),_=Symbol(),u=new ze.Ticker({phases:[E,_]});function yt(r,e,t){E=e,_=t,u=r}var z=class extends X{constructor(){super();this.drag=null,this._direction={x:0,y:0},this._speed=0,this._tick=this._tick.bind(this)}_createDragData(t){return{...super._createDragData(t),time:0,deltaTime:0}}_start(t){this.isDestroyed||this.drag||(super._start(t),u.on(E,this._tick))}_end(t){this.drag&&(u.off(E,this._tick),super._end(t))}_cancel(t){this.drag&&(u.off(E,this._tick),super._cancel(t))}_tick(t){if(this.drag)if(t&&this.drag.time){this.drag.deltaTime=t-this.drag.time,this.drag.time=t;let n={type:"tick",time:this.drag.time,deltaTime:this.drag.deltaTime};if(this._emitter.emit("tick",n),!this.drag)return;let i=this._speed*(this.drag.deltaTime/1e3),o=this._direction.x*i,s=this._direction.y*i;(o||s)&&this._move({type:"move",x:this.drag.x+o,y:this.drag.y+s})}else this.drag.time=t,this.drag.deltaTime=0}};var et=require("eventti");function Se(r,e){if("pointerId"in r)return r.pointerId===e?r:null;if("changedTouches"in r){let t=0;for(;t<r.changedTouches.length;t++)if(r.changedTouches[t].identifier===e)return r.changedTouches[t];return null}return r}function je(r){return"pointerType"in r?r.pointerType:"touches"in r?"touch":"mouse"}function $e(r){return"pointerId"in r?r.pointerId:"changedTouches"in r?r.changedTouches[0]?r.changedTouches[0].identifier:null:-1}var ve=typeof window<"u"&&typeof window.document<"u",te=(()=>{let r=!1;try{let e=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch{}return r})(),Je=ve&&"ontouchstart"in window,Qe=ve&&!!window.PointerEvent,Ze=!!(ve&&navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")==-1&&navigator.userAgent.indexOf("FxiOS")==-1);function _e(r={}){let{capture:e=!0,passive:t=!0}=r;return te?{capture:e,passive:t}:{capture:e}}function ye(r){return r==="auto"||r===void 0?Qe?"pointer":Je?"touch":"mouse":r}var bt={start:"pointerdown",move:"pointermove",cancel:"pointercancel",end:"pointerup"},xt={start:"touchstart",move:"touchmove",cancel:"touchcancel",end:"touchend"},Dt={start:"mousedown",move:"mousemove",cancel:"",end:"mouseup"},U={pointer:bt,touch:xt,mouse:Dt},Y=class{constructor(e,t={}){let{listenerOptions:n={},sourceEvents:i="auto",startPredicate:o=s=>!("button"in s&&s.button>0)}=t;this.element=e,this.drag=null,this.isDestroyed=!1,this._areWindowListenersBound=!1,this._startPredicate=o,this._listenerOptions=_e(n),this._sourceEvents=ye(i),this._emitter=new et.Emitter,this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onCancel=this._onCancel.bind(this),this._onEnd=this._onEnd.bind(this),e.addEventListener(U[this._sourceEvents].start,this._onStart,this._listenerOptions)}_getTrackedPointerEventData(e){return this.drag?Se(e,this.drag.pointerId):null}_onStart(e){if(this.isDestroyed||this.drag||!this._startPredicate(e))return;let t=$e(e);if(t===null)return;let n=Se(e,t);if(n===null)return;let i={pointerId:t,pointerType:je(e),x:n.clientX,y:n.clientY};this.drag=i;let o={...i,type:v.start,srcEvent:e,target:n.target};this._emitter.emit(o.type,o),this.drag&&this._bindWindowListeners()}_onMove(e){if(!this.drag)return;let t=this._getTrackedPointerEventData(e);if(!t)return;this.drag.x=t.clientX,this.drag.y=t.clientY;let n={type:v.move,srcEvent:e,target:t.target,...this.drag};this._emitter.emit(n.type,n)}_onCancel(e){if(!this.drag)return;let t=this._getTrackedPointerEventData(e);if(!t)return;this.drag.x=t.clientX,this.drag.y=t.clientY;let n={type:v.cancel,srcEvent:e,target:t.target,...this.drag};this._emitter.emit(n.type,n),this._resetDrag()}_onEnd(e){if(!this.drag)return;let t=this._getTrackedPointerEventData(e);if(!t)return;this.drag.x=t.clientX,this.drag.y=t.clientY;let n={type:v.end,srcEvent:e,target:t.target,...this.drag};this._emitter.emit(n.type,n),this._resetDrag()}_bindWindowListeners(){if(this._areWindowListenersBound)return;let{move:e,end:t,cancel:n}=U[this._sourceEvents];window.addEventListener(e,this._onMove,this._listenerOptions),window.addEventListener(t,this._onEnd,this._listenerOptions),n&&window.addEventListener(n,this._onCancel,this._listenerOptions),this._areWindowListenersBound=!0}_unbindWindowListeners(){if(this._areWindowListenersBound){let{move:e,end:t,cancel:n}=U[this._sourceEvents];window.removeEventListener(e,this._onMove,this._listenerOptions),window.removeEventListener(t,this._onEnd,this._listenerOptions),n&&window.removeEventListener(n,this._onCancel,this._listenerOptions),this._areWindowListenersBound=!1}}_resetDrag(){this.drag=null,this._unbindWindowListeners()}cancel(){if(!this.drag)return;let e={type:v.cancel,srcEvent:null,target:null,...this.drag};this._emitter.emit(e.type,e),this._resetDrag()}updateSettings(e){if(this.isDestroyed)return;let{listenerOptions:t,sourceEvents:n,startPredicate:i}=e,o=ye(n),s=_e(t);i&&this._startPredicate!==i&&(this._startPredicate=i),(t&&(this._listenerOptions.capture!==s.capture||this._listenerOptions.passive===s.passive)||n&&this._sourceEvents!==o)&&(this.element.removeEventListener(U[this._sourceEvents].start,this._onStart,this._listenerOptions),this._unbindWindowListeners(),this.cancel(),n&&(this._sourceEvents=o),t&&s&&(this._listenerOptions=s),this.element.addEventListener(U[this._sourceEvents].start,this._onStart,this._listenerOptions))}on(e,t,n){return this._emitter.on(e,t,n)}off(e,t){this._emitter.off(e,t)}destroy(){this.isDestroyed||(this.isDestroyed=!0,this.cancel(),this._emitter.emit(v.destroy,{type:v.destroy}),this._emitter.off(),this.element.removeEventListener(U[this._sourceEvents].start,this._onStart,this._listenerOptions))}};var be=class extends X{constructor(t={}){super();let{moveDistance:n=25,startPredicate:i=c=>{if((c.key==="Enter"||c.key===" ")&&document.activeElement&&document.activeElement!==document.body){let{left:a,top:d}=document.activeElement.getBoundingClientRect();return{x:a,y:d}}return null},movePredicate:o=(c,a,d)=>{if(!a.drag)return null;switch(c.key){case"ArrowLeft":return{x:a.drag.x-d,y:a.drag.y};case"ArrowRight":return{x:a.drag.x+d,y:a.drag.y};case"ArrowUp":return{x:a.drag.x,y:a.drag.y-d};case"ArrowDown":return{x:a.drag.x,y:a.drag.y+d};default:return null}},cancelPredicate:s=(c,a)=>a.drag&&c.key==="Escape"?{x:a.drag.x,y:a.drag.y}:null,endPredicate:l=(c,a)=>a.drag&&(c.key==="Enter"||c.key===" ")?{x:a.drag.x,y:a.drag.y}:null}=t;this._moveDistance=n,this._startPredicate=i,this._movePredicate=o,this._cancelPredicate=s,this._endPredicate=l,this.cancel=this.cancel.bind(this),this._onKeyDown=this._onKeyDown.bind(this),document.addEventListener("keydown",this._onKeyDown),window.addEventListener("blur",this.cancel),window.addEventListener("visibilitychange",this.cancel)}_onKeyDown(t){if(!this.drag){let s=this._startPredicate(t,this,this._moveDistance);s&&(t.preventDefault(),this._start({type:"start",x:s.x,y:s.y,srcEvent:t}));return}let n=this._cancelPredicate(t,this,this._moveDistance);if(n){t.preventDefault(),this._cancel({type:"cancel",x:n.x,y:n.y,srcEvent:t});return}let i=this._endPredicate(t,this,this._moveDistance);if(i){t.preventDefault(),this._end({type:"end",x:i.x,y:i.y,srcEvent:t});return}let o=this._movePredicate(t,this,this._moveDistance);if(o){t.preventDefault(),this._move({type:"move",x:o.x,y:o.y,srcEvent:t});return}}updateSettings(t={}){t.moveDistance!==void 0&&(this._moveDistance=t.moveDistance),t.startPredicate!==void 0&&(this._startPredicate=t.startPredicate),t.movePredicate!==void 0&&(this._movePredicate=t.movePredicate),t.cancelPredicate!==void 0&&(this._cancelPredicate=t.cancelPredicate),t.endPredicate!==void 0&&(this._endPredicate=t.endPredicate)}destroy(){this.isDestroyed||(super.destroy(),document.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("blur",this.cancel),window.removeEventListener("visibilitychange",this.cancel))}};var Pt=["start","cancel","end","moveLeft","moveRight","moveUp","moveDown"];function ne(r,e){if(!r.size||!e.size)return 1/0;let t=1/0;for(let n of r){let i=e.get(n);i!==void 0&&i<t&&(t=i)}return t}var xe=class extends z{constructor(t={}){super();let{startPredicate:n=()=>{if(document.activeElement){let{left:f,top:g}=document.activeElement.getBoundingClientRect();return{x:f,y:g}}return null},computeSpeed:i=()=>500,startKeys:o=[" ","Enter"],moveLeftKeys:s=["ArrowLeft"],moveRightKeys:l=["ArrowRight"],moveUpKeys:c=["ArrowUp"],moveDownKeys:a=["ArrowDown"],cancelKeys:d=["Escape"],endKeys:m=[" ","Enter"]}=t;this._computeSpeed=i,this._startPredicate=n,this._startKeys=new Set(o),this._cancelKeys=new Set(d),this._endKeys=new Set(m),this._moveLeftKeys=new Set(s),this._moveRightKeys=new Set(l),this._moveUpKeys=new Set(c),this._moveDownKeys=new Set(a),this._moveKeys=new Set([...s,...l,...c,...a]),this._moveKeyTimestamps=new Map,this._onKeyDown=this._onKeyDown.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onTick=this._onTick.bind(this),this.on("tick",this._onTick),document.addEventListener("keydown",this._onKeyDown),document.addEventListener("keyup",this._onKeyUp),window.addEventListener("blur",this.cancel),window.addEventListener("visibilitychange",this.cancel)}_end(t){this.drag&&(this._moveKeyTimestamps.clear(),this._direction.x=0,this._direction.y=0,super._end(t))}_cancel(t){this.drag&&(this._moveKeyTimestamps.clear(),this._direction.x=0,this._direction.y=0,super._cancel(t))}_updateDirection(){let t=ne(this._moveLeftKeys,this._moveKeyTimestamps),n=ne(this._moveRightKeys,this._moveKeyTimestamps),i=ne(this._moveUpKeys,this._moveKeyTimestamps),o=ne(this._moveDownKeys,this._moveKeyTimestamps),s=t===n?0:t<n?-1:1,l=i===o?0:i<o?-1:1;if(!(s===0||l===0)){let c=1/(Math.sqrt(s*s+l*l)||1);s*=c,l*=c}this._direction.x=s,this._direction.y=l}_onTick(){this._speed=this._computeSpeed(this)}_onKeyUp(t){this._moveKeyTimestamps.get(t.key)&&(this._moveKeyTimestamps.delete(t.key),this._updateDirection())}_onKeyDown(t){if(!this.drag){if(this._startKeys.has(t.key)){let n=this._startPredicate(t,this);n&&(t.preventDefault(),this._start({type:"start",x:n.x,y:n.y}))}return}if(this._cancelKeys.has(t.key)){t.preventDefault(),this._cancel({type:"cancel",x:this.drag.x,y:this.drag.y});return}if(this._endKeys.has(t.key)){t.preventDefault(),this._end({type:"end",x:this.drag.x,y:this.drag.y});return}if(this._moveKeys.has(t.key)){t.preventDefault(),this._moveKeyTimestamps.get(t.key)||(this._moveKeyTimestamps.set(t.key,Date.now()),this._updateDirection());return}}updateSettings(t={}){let n=!1;if(t.startPredicate!==void 0&&(this._startPredicate=t.startPredicate),t.computeSpeed!==void 0&&(this._computeSpeed=t.computeSpeed),Pt.forEach((i,o)=>{let s=`${i}Keys`,l=t[s];l!==void 0&&(this[`_${s}`]=new Set(l),o>=3&&(n=!0))}),n){let i=[...this._moveLeftKeys,...this._moveRightKeys,...this._moveUpKeys,...this._moveDownKeys];[...this._moveKeys].every((s,l)=>i[l]===s)||(this._moveKeys=new Set(i),this._moveKeyTimestamps.clear(),this._updateDirection())}}destroy(){this.isDestroyed||(super.destroy(),this.off("tick",this._onTick),document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("keyup",this._onKeyUp),window.removeEventListener("blur",this.cancel),window.removeEventListener("visibilitychange",this.cancel))}};var ot=require("eventti");var re=class{constructor(){this.sensor=null,this.isEnded=!1,this.isStarted=!1,this.startEvent=null,this.nextMoveEvent=null,this.prevMoveEvent=null,this.endEvent=null,this.items=[]}};var ie=class{constructor(e,t,n,i,o){this.element=e,this.elementContainer=t,this.elementOffsetContainer=n,this.dragContainer=i,this.dragOffsetContainer=o,this.x=0,this.y=0,this.pX=0,this.pY=0,this._updateDiffX=0,this._updateDiffY=0,this._moveDiffX=0,this._moveDiffY=0,this._containerDiffX=0,this._containerDiffY=0,this._transform=""}};var tt=new WeakMap;function y(r){let e=tt.get(r)?.deref();return e||(e=window.getComputedStyle(r,null),tt.set(r,new WeakRef(e))),e}function oe(r){let e=y(r);switch(e.display){case"none":return;case"inline":case"contents":return!1}let{transform:t}=e;if(t&&t!=="none")return!0;let{perspective:n}=e;if(n&&n!=="none")return!0;let{backdropFilter:i}=e;if(i&&i!=="none")return!0;let{contentVisibility:o}=e;if(o&&o==="auto")return!0;let{contain:s}=e;if(s&&(s==="strict"||s==="content"||s.indexOf("paint")>-1||s.indexOf("layout")>-1))return!0;if(!Ze){let{filter:l}=e;if(l&&l!=="none")return!0;let{willChange:c}=e;if(c&&(c.indexOf("transform")>-1||c.indexOf("perspective")>-1||c.indexOf("filter")>-1))return!0}return!1}function nt(r){return y(r).position!=="static"?!0:oe(r)}function L(r){return r instanceof Document}function De(r,e){let t=y(r),{display:n}=t;if(n==="none"||n==="contents")return null;switch(t.position){case"relative":return r;case"fixed":{let i=e||r.parentNode;for(;i&&!L(i);)if(i instanceof Element){let o=oe(i);if(o===!0)return i;if(o===void 0)return null;i=i.parentNode}else i instanceof ShadowRoot?i=i.host:i=i.parentNode;return r.ownerDocument.defaultView}case"absolute":{let i=e||r.parentNode;for(;i&&!L(i);)if(i instanceof Element){let o=nt(i);if(o===!0)return i;if(o===void 0)return null;i=i.parentNode}else i instanceof ShadowRoot?i=i.host:i=i.parentNode;return r.ownerDocument}default:return null}}function b(r){return r instanceof Window}function Pe(r,e={left:0,top:0}){if(e.left=0,e.top=0,L(r))return e;if(b(r))return e.left=r.scrollX,e.top=r.scrollY,e;let t=r.ownerDocument.defaultView;t&&(e.left+=t.scrollX,e.top+=t.scrollY);let{left:n,top:i}=r.getBoundingClientRect();e.left+=n,e.top+=i;let o=y(r);return e.left+=parseFloat(o.borderLeftWidth)||0,e.top+=parseFloat(o.borderTopWidth)||0,e}var Te={left:0,top:0},we={left:0,top:0};function Ie(r,e,t={left:0,top:0}){return t.left=0,t.top=0,r===e||(Pe(r,Te),Pe(e,we),t.left=we.left-Te.left,t.top=we.top-Te.top),t}var Tt="matrix(1, 0, 0, 1, 0, 0)",wt="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)",rt=te?{capture:!0,passive:!0}:!0,it={left:0,top:0},Ae={x:0,y:0};function It(){return{container:null,startPredicate:()=>!0,getElements:()=>null,releaseElements:()=>{},getStartPosition:({item:r})=>{let{transform:e}=y(r.element);return e&&e!=="none"&&e!==Tt&&e!==wt?r._transform=e:r._transform="",{x:0,y:0}},setPosition:({item:r,x:e,y:t})=>{r.element.style.transform=`translate(${e}px, ${t}px) ${r._transform}`},getPositionChange:({event:r,prevEvent:e})=>(Ae.x=r.x-e.x,Ae.y=r.y-e.y,Ae)}}var ke=class{constructor(e,t={}){this.sensors=e,this.settings=this._parseSettings(t),this.plugins={},this.drag=null,this.isDestroyed=!1,this._sensorData=new Map,this._emitter=new ot.Emitter,this._startId=Symbol(),this._moveId=Symbol(),this._updateId=Symbol(),this._onMove=this._onMove.bind(this),this._onScroll=this._onScroll.bind(this),this._onEnd=this._onEnd.bind(this),this._prepareStart=this._prepareStart.bind(this),this._applyStart=this._applyStart.bind(this),this._prepareMove=this._prepareMove.bind(this),this._applyMove=this._applyMove.bind(this),this._preparePositionUpdate=this._preparePositionUpdate.bind(this),this._applyPositionUpdate=this._applyPositionUpdate.bind(this),this.sensors.forEach(n=>{this._sensorData.set(n,{predicateState:0,predicateEvent:null,onMove:s=>this._onMove(s,n),onEnd:s=>this._onEnd(s,n)});let{onMove:i,onEnd:o}=this._sensorData.get(n);n.on("start",i),n.on("move",i),n.on("cancel",o),n.on("end",o),n.on("destroy",o)})}_parseSettings(e,t=It()){let{container:n=t.container,startPredicate:i=t.startPredicate,getElements:o=t.getElements,releaseElements:s=t.releaseElements,getStartPosition:l=t.getStartPosition,setPosition:c=t.setPosition,getPositionChange:a=t.getPositionChange}=e||{};return{container:n,startPredicate:i,getElements:o,releaseElements:s,getStartPosition:l,setPosition:c,getPositionChange:a}}_emit(e,...t){this._emitter.emit(e,...t)}_onMove(e,t){let n=this._sensorData.get(t);if(n)switch(n.predicateState){case 0:{n.predicateEvent=e;let i=this.settings.startPredicate({draggable:this,sensor:t,event:e});i===!0?this.resolveStartPredicate(t):i===!1&&this.rejectStartPredicate(t);break}case 1:{this.drag&&(this.drag.nextMoveEvent=e,u.once(E,this._prepareMove,this._moveId),u.once(_,this._applyMove,this._moveId));break}}}_onScroll(){this.updatePosition()}_onEnd(e,t){let n=this._sensorData.get(t);n&&(this.drag?n.predicateState===1&&(this.drag.endEvent=e,this._sensorData.forEach(i=>{i.predicateState=0,i.predicateEvent=null}),this.stop()):(n.predicateState=0,n.predicateEvent=null))}_prepareStart(){let{drag:e}=this;if(!e||!e.startEvent)return;let t=this.settings.getElements({draggable:this,sensor:e.sensor,startEvent:e.startEvent})||[];e.items=t.map(n=>{if(!n.isConnected)throw new Error("Element is not connected");let i=n.parentElement,o=De(n);if(!o)throw new Error("Offset container could not be computed for the element!");let s=this.settings.container||i,l=s===i?o:De(n,s);if(!l)throw new Error("Drag offset container could not be computed for the element!");let c=new ie(n,i,o,s,l),a=n.getBoundingClientRect();if(c.x=a.left,c.y=a.top,o!==l){let{left:f,top:g}=Ie(l,o,it);c._containerDiffX=f,c._containerDiffY=g}let{x:d,y:m}=this.settings.getStartPosition({draggable:this,sensor:e.sensor,item:c});return c.pX=d,c.pY=m,c}),this._emit("preparestart",e.startEvent)}_applyStart(){let e=this.drag;if(!e||!e.startEvent)return;let{container:t}=this.settings;for(let n of e.items)t&&n.element.parentElement!==t&&(t.appendChild(n.element),n.pX+=n._containerDiffX,n.pY+=n._containerDiffY),this.settings.setPosition({phase:"start",draggable:this,sensor:e.sensor,item:n,x:n.pX,y:n.pY});window.addEventListener("scroll",this._onScroll,rt),e.isStarted=!0,this._emit("start",e.startEvent)}_prepareMove(){let{drag:e}=this;if(!e||!e.startEvent)return;let t=e.nextMoveEvent,n=e.prevMoveEvent||e.startEvent;if(!(!t||t===n)){for(let i of e.items){let{x:o,y:s}=this.settings.getPositionChange({draggable:this,sensor:e.sensor,item:i,startEvent:e.startEvent,prevEvent:n,event:t});o&&(i.pX=i.pX-i._moveDiffX+o,i.x=i.x-i._moveDiffX+o,i._moveDiffX=o),s&&(i.pY=i.pY-i._moveDiffY+s,i.y=i.y-i._moveDiffY+s,i._moveDiffY=s)}e.prevMoveEvent=t,this._emit("preparemove",t)}}_applyMove(){let{drag:e}=this;if(!(!e||!e.nextMoveEvent)){for(let t of e.items)t._moveDiffX=0,t._moveDiffY=0;for(let t of e.items)this.settings.setPosition({phase:"move",draggable:this,sensor:e.sensor,item:t,x:t.pX,y:t.pY});this._emit("move",e.nextMoveEvent)}}_preparePositionUpdate(){let{drag:e}=this;if(e)for(let t of e.items){if(t.elementOffsetContainer!==t.dragOffsetContainer){let{left:l,top:c}=Ie(t.dragOffsetContainer,t.elementOffsetContainer,it);t._containerDiffX=l,t._containerDiffY=c}let{left:n,top:i}=t.element.getBoundingClientRect(),o=t.x-t._moveDiffX-n;t.pX=t.pX-t._updateDiffX+o,t._updateDiffX=o;let s=t.y-t._moveDiffY-i;t.pY=t.pY-t._updateDiffY+s,t._updateDiffY=s}}_applyPositionUpdate(){let{drag:e}=this;if(e)for(let t of e.items)t._updateDiffX=0,t._updateDiffY=0,this.settings.setPosition({phase:"move",draggable:this,sensor:e.sensor,item:t,x:t.pX,y:t.pY})}on(e,t,n){return this._emitter.on(e,t,n)}off(e,t){this._emitter.off(e,t)}resolveStartPredicate(e,t){let n=this._sensorData.get(e);if(!n)return;let i=t||n.predicateEvent;n.predicateState===0&&i&&(n.predicateState=1,n.predicateEvent=null,this.drag=new re,this.drag.sensor=e,this.drag.startEvent=i,this._sensorData.forEach((o,s)=>{s!==e&&(o.predicateState=2,o.predicateEvent=null)}),u.once(E,this._prepareStart,this._startId),u.once(_,this._applyStart,this._startId))}rejectStartPredicate(e){let t=this._sensorData.get(e);t?.predicateState===0&&(t.predicateState=2,t.predicateEvent=null)}stop(){let{drag:e}=this;if(!(!e||e.isEnded)){if(e.isEnded=!0,u.off(E,this._startId),u.off(_,this._startId),u.off(E,this._moveId),u.off(_,this._moveId),u.off(E,this._updateId),u.off(_,this._updateId),e.isStarted){window.removeEventListener("scroll",this._onScroll,rt);let t=[];for(let n of e.items)t.push(n.element),n.elementContainer&&n.element.parentElement!==n.elementContainer&&(n.pX-=n._containerDiffX,n.pY-=n._containerDiffY,n._containerDiffX=0,n._containerDiffY=0,n.elementContainer.appendChild(n.element)),this.settings.setPosition({phase:"end",draggable:this,sensor:e.sensor,item:n,x:n.pX,y:n.pY});t.length&&this.settings.releaseElements({draggable:this,sensor:e.sensor,elements:t})}this._emit("end",e.endEvent),this.drag=null}}updatePosition(e=!1){this.drag&&(e?(this._preparePositionUpdate(),this._applyPositionUpdate()):(u.once(E,this._preparePositionUpdate,this._updateId),u.once(_,this._applyPositionUpdate,this._updateId)))}updateSettings(e={}){this.settings=this._parseSettings(e,this.settings)}use(e){return e(this)}destroy(){this.isDestroyed||(this.isDestroyed=!0,this.stop(),this._sensorData.forEach(({onMove:e,onEnd:t},n)=>{n.off("start",e),n.off("move",e),n.off("cancel",t),n.off("end",t),n.off("destroy",t)}),this._sensorData.clear(),this._emit("destroy"),this._emitter.off())}};var mt=require("eventti");var j=class{constructor(e,t){this._data=[],this._createObject=e,this._onPut=t}pick(){return this._data.length?this._data.pop():this._createObject()}put(e){this._data.indexOf(e)===-1&&(this._onPut&&this._onPut(e),this._data.push(e))}reset(){this._data.length=0}};function N(r,e){return!(r.right<=e.left||e.right<=r.left||r.bottom<=e.top||e.bottom<=r.top)}function st(r,e){if(!N(r,e))return 0;let t=Math.min(r.right,e.right)-Math.max(r.left,e.left),n=Math.min(r.bottom,e.bottom)-Math.max(r.top,e.top);return t*n}function Ce(r,e){let t=st(r,e);if(!t)return 0;let n=Math.min(r.width,e.width)*Math.min(r.height,e.height);return t/n*100}function Re(r,e={width:0,height:0,left:0,right:0,top:0,bottom:0}){if(b(r))e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight,e.left=0,e.right=e.width,e.top=0,e.bottom=e.height;else if(L(r))e.width=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth,document.documentElement.clientWidth),e.height=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight,document.documentElement.clientHeight),e.left=-window.scrollX,e.top=-window.scrollY,e.right=e.left+e.width,e.bottom=e.top+e.height;else{let t=y(r),{width:n,height:i,left:o,top:s}=r.getBoundingClientRect(),l=parseFloat(t.borderLeftWidth)||0,c=parseFloat(t.borderRightWidth)||0,a=parseFloat(t.borderTopWidth)||0,d=parseFloat(t.borderBottomWidth)||0;if(o+=l,s+=a,n-=l,n-=c,i-=a,i-=d,r instanceof HTMLHtmlElement){let m=r.ownerDocument,f=m.defaultView;f&&(n-=f.innerWidth-m.documentElement.clientWidth,i-=f.innerHeight-m.documentElement.clientHeight)}else n-=Math.max(0,Math.round(n)-r.clientWidth),i-=Math.max(0,Math.round(i)-r.clientHeight);e.width=n,e.height=i,e.left=o,e.top=s,e.right=o+n,e.bottom=s+i}return e}function se(r,e,t,n){return Math.sqrt(Math.pow(t-r,2)+Math.pow(n-e,2))}function at(r,e){return N(r,e)?0:r.right<e.left?r.bottom<e.top?se(r.right,r.bottom,e.left,e.top):r.top>e.bottom?se(r.right,r.top,e.left,e.bottom):e.left-r.right:r.left>e.right?r.bottom<e.top?se(r.left,r.bottom,e.right,e.top):r.top>e.bottom?se(r.left,r.top,e.right,e.bottom):r.left-e.right:r.bottom<e.top?e.top-r.bottom:r.top-e.bottom}function Le(r){return b(r)||r===document.documentElement||r===document.body?window:r}function V(r){return b(r)?r.pageXOffset:r.scrollLeft}function Ke(r){return b(r)&&(r=document.documentElement),r.scrollWidth-r.clientWidth}function B(r){return b(r)?r.pageYOffset:r.scrollTop}function Oe(r){return b(r)&&(r=document.documentElement),r.scrollHeight-r.clientHeight}var ce={width:0,height:0,left:0,right:0,top:0,bottom:0},lt={...ce},ct={...ce},dt=50,I={direction:"none",threshold:0,distance:0,value:0,maxValue:0,duration:0,speed:0,deltaTime:0,isEnding:!1},h={x:1,y:2},M={forward:4,reverse:8},ae={none:0,left:h.x|M.reverse,right:h.x|M.forward},$={none:0,up:h.y|M.reverse,down:h.y|M.forward},p={...ae,...$};function Me(r){switch(r){case ae.none:case $.none:return"none";case ae.left:return"left";case ae.right:return"right";case $.up:return"up";case $.down:return"down";default:throw new Error(`Unknown direction value: ${r}`)}}function ht(r,e,t){let{left:n=0,right:i=0,top:o=0,bottom:s=0}=e;return n=Math.max(0,n),i=Math.max(0,i),o=Math.max(0,o),s=Math.max(0,s),t.width=r.width+n+i,t.height=r.height+o+s,t.left=r.left-n,t.top=r.top-o,t.right=r.right+i,t.bottom=r.bottom+s,t}function le(r,e){return Math.ceil(r)>=Math.floor(e)}function We(r,e){return Math.min(e/2,r)}function Xe(r,e,t,n){return Math.max(0,t+r*2+n*e-n)/2}var Ye=class{constructor(){this.positionX=0,this.positionY=0,this.directionX=p.none,this.directionY=p.none,this.overlapCheckRequestTime=0}},Ne=class{constructor(){this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0}reset(){this.requestX&&(this.requestX.action=null),this.requestY&&(this.requestY.action=null),this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0}addRequest(e){h.x&e.direction?(this.requestX&&this.removeRequest(this.requestX),this.requestX=e):(this.requestY&&this.removeRequest(this.requestY),this.requestY=e),e.action=this}removeRequest(e){this.requestX===e?(this.requestX=null,e.action=null):this.requestY===e&&(this.requestY=null,e.action=null)}computeScrollValues(){this.element&&(this.scrollLeft=this.requestX?this.requestX.value:V(this.element),this.scrollTop=this.requestY?this.requestY.value:B(this.element))}scroll(){this.element&&(this.element.scrollTo?this.element.scrollTo(this.scrollLeft,this.scrollTop):(this.element.scrollLeft=this.scrollLeft,this.element.scrollTop=this.scrollTop))}},qe=class{constructor(){this.item=null,this.element=null,this.isActive=!1,this.isEnding=!1,this.direction=0,this.value=NaN,this.maxValue=0,this.threshold=0,this.distance=0,this.deltaTime=0,this.speed=0,this.duration=0,this.action=null}reset(){this.isActive&&this.onStop(),this.item=null,this.element=null,this.isActive=!1,this.isEnding=!1,this.direction=0,this.value=NaN,this.maxValue=0,this.threshold=0,this.distance=0,this.deltaTime=0,this.speed=0,this.duration=0,this.action=null}hasReachedEnd(){return M.forward&this.direction?le(this.value,this.maxValue):this.value<=0}computeCurrentScrollValue(){return this.element?this.value!==this.value?h.x&this.direction?V(this.element):B(this.element):Math.max(0,Math.min(this.value,this.maxValue)):0}computeNextScrollValue(){let e=this.speed*(this.deltaTime/1e3),t=M.forward&this.direction?this.value+e:this.value-e;return Math.max(0,Math.min(t,this.maxValue))}computeSpeed(){if(!this.item||!this.element)return 0;let{speed:e}=this.item;return typeof e=="function"?(I.direction=Me(this.direction),I.threshold=this.threshold,I.distance=this.distance,I.value=this.value,I.maxValue=this.maxValue,I.duration=this.duration,I.speed=this.speed,I.deltaTime=this.deltaTime,I.isEnding=this.isEnding,e(this.element,I)):e}tick(e){return this.isActive||(this.isActive=!0,this.onStart()),this.deltaTime=e,this.value=this.computeCurrentScrollValue(),this.speed=this.computeSpeed(),this.value=this.computeNextScrollValue(),this.duration+=e,this.value}onStart(){if(!this.item||!this.element)return;let{onStart:e}=this.item;typeof e=="function"&&e(this.element,Me(this.direction))}onStop(){if(!this.item||!this.element)return;let{onStop:e}=this.item;typeof e=="function"&&e(this.element,Me(this.direction))}};function Ue(r=500,e=.5,t=.25){let n=r*(e>0?1/e:1/0),i=r*(t>0?1/t:1/0);return function(o,s){let l=0;if(!s.isEnding)if(s.threshold>0){let d=s.threshold-Math.max(0,s.distance);l=r/s.threshold*d}else l=r;let c=s.speed;if(c===l)return l;let a=l;return c<l?(a=c+n*(s.deltaTime/1e3),Math.min(l,a)):(a=c-i*(s.deltaTime/1e3),Math.max(l,a))}}var J=class{constructor(e={}){let{overlapCheckInterval:t=150}=e;this.items=[],this.settings={overlapCheckInterval:t},this._actions=[],this._isDestroyed=!1,this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,this._requests={[h.x]:new Map,[h.y]:new Map},this._itemData=new Map,this._requestPool=new j(()=>new qe,n=>n.reset()),this._actionPool=new j(()=>new Ne,n=>n.reset()),this._emitter=new mt.Emitter,this._frameRead=this._frameRead.bind(this),this._frameWrite=this._frameWrite.bind(this)}_frameRead(e){this._isDestroyed||(e&&this._tickTime?(this._tickDeltaTime=e-this._tickTime,this._tickTime=e,this._updateItems(),this._updateRequests(),this._updateActions()):(this._tickTime=e,this._tickDeltaTime=0))}_frameWrite(){this._isDestroyed||this._applyActions()}_startTicking(){this._isTicking||(this._isTicking=!0,u.on(E,this._frameRead),u.on(_,this._frameWrite))}_stopTicking(){this._isTicking&&(this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,u.off(E,this._frameRead),u.off(_,this._frameWrite))}_getItemClientRect(e,t={width:0,height:0,left:0,right:0,top:0,bottom:0}){let{clientRect:n}=e;return t.left=n.left,t.top=n.top,t.width=n.width,t.height=n.height,t.right=n.left+n.width,t.bottom=n.top+n.height,t}_requestItemScroll(e,t,n,i,o,s,l){let c=this._requests[t],a=c.get(e);a?(a.element!==n||a.direction!==i)&&a.reset():(a=this._requestPool.pick(),c.set(e,a)),a.item=e,a.element=n,a.direction=i,a.threshold=o,a.distance=s,a.maxValue=l}_cancelItemScroll(e,t){let n=this._requests[t],i=n.get(e);i&&(i.action&&i.action.removeRequest(i),this._requestPool.put(i),n.delete(e))}_checkItemOverlap(e,t,n){let{inertAreaSize:i,targets:o}=e;if(!o.length){t&&this._cancelItemScroll(e,h.x),n&&this._cancelItemScroll(e,h.y);return}let s=this._itemData.get(e),l=s?.directionX,c=s?.directionY;if(!l&&!c){t&&this._cancelItemScroll(e,h.x),n&&this._cancelItemScroll(e,h.y);return}let a=this._getItemClientRect(e,ce),d=null,m=-1/0,f=0,g=-1/0,x=p.none,W=0,D=0,S=null,P=-1/0,H=0,F=-1/0,ue=p.none,Be=0,He=0,pe=0;for(;pe<o.length;pe++){let A=o[pe],Fe=typeof A.threshold=="number"?A.threshold:dt,fe=!!(t&&l&&A.axis!=="y"),ge=!!(n&&c&&A.axis!=="x"),O=A.priority||0;if((!fe||O<m)&&(!ge||O<P))continue;let k=Le(A.element||A),Z=fe?Ke(k):-1,ee=ge?Oe(k):-1;if(Z<=0&&ee<=0)continue;let T=Re(k,lt),q=Ce(a,T)||-1/0;if(q===-1/0)if(A.padding&&N(a,ht(T,A.padding,ct)))q=-at(a,T);else continue;if(fe&&O>=m&&Z>0&&(O>m||q>g)){let w=0,C=p.none,R=We(Fe,T.width),G=Xe(R,i,a.width,T.width);l===p.right?(w=T.right+G-a.right,w<=R&&!le(V(k),Z)&&(C=p.right)):l===p.left&&(w=a.left-(T.left-G),w<=R&&V(k)>0&&(C=p.left)),C&&(d=k,m=O,f=R,g=q,x=C,W=w,D=Z)}if(ge&&O>=P&&ee>0&&(O>P||q>F)){let w=0,C=$.none,R=We(Fe,T.height),G=Xe(R,i,a.height,T.height);c===p.down?(w=T.bottom+G-a.bottom,w<=R&&!le(B(k),ee)&&(C=p.down)):c===p.up&&(w=a.top-(T.top-G),w<=R&&B(k)>0&&(C=p.up)),C&&(S=k,P=O,H=R,F=q,ue=C,Be=w,He=ee)}}t&&(d&&x?this._requestItemScroll(e,h.x,d,x,f,W,D):this._cancelItemScroll(e,h.x)),n&&(S&&ue?this._requestItemScroll(e,h.y,S,ue,H,Be,He):this._cancelItemScroll(e,h.y))}_updateScrollRequest(e){let t=e.item,{inertAreaSize:n,smoothStop:i,targets:o}=t,s=this._getItemClientRect(t,ce),l=null,c=0;for(;c<o.length;c++){let a=o[c],d=Le(a.element||a);if(d!==e.element)continue;let m=!!(h.x&e.direction);if(m){if(a.axis==="y")continue}else if(a.axis==="x")continue;let f=m?Ke(d):Oe(d);if(f<=0)break;let g=Re(d,lt);if((Ce(s,g)||-1/0)===-1/0){let F=a.scrollPadding||a.padding;if(!(F&&N(s,ht(g,F,ct))))break}let W=typeof a.threshold=="number"?a.threshold:dt,D=We(W,m?g.width:g.height),S=Xe(D,n,m?s.width:s.height,m?g.width:g.height),P=0;if(e.direction===p.left?P=s.left-(g.left-S):e.direction===p.right?P=g.right+S-s.right:e.direction===p.up?P=s.top-(g.top-S):P=g.bottom+S-s.bottom,P>D)break;let H=m?V(d):B(d);if(l=M.forward&e.direction?le(H,f):H<=0,l)break;return e.maxValue=f,e.threshold=D,e.distance=P,e.isEnding=!1,!0}return i===!0&&e.speed>0?(l===null&&(l=e.hasReachedEnd()),e.isEnding=!l):e.isEnding=!1,e.isEnding}_updateItems(){for(let e=0;e<this.items.length;e++){let t=this.items[e],n=this._itemData.get(t),{x:i,y:o}=t.position,s=n.positionX,l=n.positionY;i===s&&o===l||(n.directionX=i>s?p.right:i<s?p.left:n.directionX,n.directionY=o>l?p.down:o<l?p.up:n.directionY,n.positionX=i,n.positionY=o,n.overlapCheckRequestTime===0&&(n.overlapCheckRequestTime=this._tickTime))}}_updateRequests(){let e=this.items,t=this._requests[h.x],n=this._requests[h.y],i=0;for(;i<e.length;i++){let o=e[i],s=this._itemData.get(o),l=s.overlapCheckRequestTime,c=l>0&&this._tickTime-l>this.settings.overlapCheckInterval,a=!0,d=t.get(o);d&&d.isActive&&(a=!this._updateScrollRequest(d),a&&(c=!0,this._cancelItemScroll(o,h.x)));let m=!0,f=n.get(o);f&&f.isActive&&(m=!this._updateScrollRequest(f),m&&(c=!0,this._cancelItemScroll(o,h.y))),c&&(s.overlapCheckRequestTime=0,this._checkItemOverlap(o,a,m))}}_requestAction(e,t){let n=t===h.x,i=null,o=0;for(;o<this._actions.length;o++){if(i=this._actions[o],e.element!==i.element){i=null;continue}if(n?i.requestX:i.requestY){this._cancelItemScroll(e.item,t);return}break}i||(i=this._actionPool.pick()),i.element=e.element,i.addRequest(e),e.tick(this._tickDeltaTime),this._actions.push(i)}_updateActions(){let e=0;for(e=0;e<this.items.length;e++){let t=this.items[e],n=this._requests[h.x].get(t),i=this._requests[h.y].get(t);n&&this._requestAction(n,h.x),i&&this._requestAction(i,h.y)}for(e=0;e<this._actions.length;e++)this._actions[e].computeScrollValues()}_applyActions(){if(!this._actions.length)return;this._emitter.emit("beforescroll");let e=0;for(e=0;e<this._actions.length;e++)this._actions[e].scroll(),this._actionPool.put(this._actions[e]);this._actions.length=0;let t;for(e=0;e<this.items.length;e++)t=this.items[e],t.onPrepareScrollEffect&&t.onPrepareScrollEffect();for(e=0;e<this.items.length;e++)t=this.items[e],t.onApplyScrollEffect&&t.onApplyScrollEffect();this._emitter.emit("afterscroll")}on(e,t){return this._emitter.on(e,t)}off(e,t){this._emitter.off(e,t)}addItem(e){if(this._isDestroyed||this._itemData.has(e))return;let{x:t,y:n}=e.position,i=new Ye;i.positionX=t,i.positionY=n,i.directionX=p.none,i.directionY=p.none,i.overlapCheckRequestTime=this._tickTime,this._itemData.set(e,i),this.items.push(e),this._isTicking||this._startTicking()}removeItem(e){if(this._isDestroyed)return;let t=this.items.indexOf(e);t!==-1&&(this._requests[h.x].get(e)&&(this._cancelItemScroll(e,h.x),this._requests[h.x].delete(e)),this._requests[h.y].get(e)&&(this._cancelItemScroll(e,h.y),this._requests[h.y].delete(e)),this._itemData.delete(e),this.items.splice(t,1),this._isTicking&&!this.items.length&&this._stopTicking())}isDestroyed(){return this._isDestroyed}isItemScrollingX(e){return!!this._requests[h.x].get(e)?.isActive}isItemScrollingY(e){return!!this._requests[h.y].get(e)?.isActive}isItemScrolling(e){return this.isItemScrollingX(e)||this.isItemScrollingY(e)}updateSettings(e={}){let{overlapCheckInterval:t=this.settings.overlapCheckInterval}=e;this.settings.overlapCheckInterval=t}destroy(){if(this._isDestroyed)return;let e=this.items.slice(0),t=0;for(;t<e.length;t++)this.removeItem(e[t]);this._actions.length=0,this._requestPool.reset(),this._actionPool.reset(),this._emitter.off(),this._isDestroyed=!0}};var de=new J;var Q={x:0,y:0},K={left:0,top:0,width:0,height:0};function At(){return{targets:[],inertAreaSize:.2,speed:Ue(),smoothStop:!1,getPosition:r=>{let{drag:e}=r,t=e?.items[0];if(t)Q.x=t.pX,Q.y=t.pY;else{let n=e&&(e.nextMoveEvent||e.startEvent);Q.x=n?n.x:0,Q.y=n?n.y:0}return Q},getClientRect:r=>{let{drag:e}=r,t=e?.items[0];if(t&&t.element){let{left:n,top:i,width:o,height:s}=t.element.getBoundingClientRect();K.left=n,K.top=i,K.width=o,K.height=s}else{let n=e&&(e.nextMoveEvent||e.startEvent);K.left=n?n.x-25:0,K.top=n?n.y-25:0,K.width=n?50:0,K.height=n?50:0}return K},onStart:null,onStop:null}}var Ve=class{constructor(e,t){this._draggableAutoScroll=e,this._draggable=t,this._position={x:0,y:0},this._clientRect={left:0,top:0,width:0,height:0}}_getSettings(){return this._draggableAutoScroll.settings}get targets(){let{targets:e}=this._getSettings();return typeof e=="function"&&(e=e(this._draggable)),e}get position(){let{getPosition:e}=this._getSettings();if(typeof e=="function"){let t=e(this._draggable);this._position.x=t.x,this._position.y=t.y}else this._position.x=0,this._position.y=0;return this._position}get clientRect(){let{getClientRect:e}=this._getSettings();if(typeof e=="function"){let{left:t,top:n,width:i,height:o}=e(this._draggable);this._clientRect.left=t,this._clientRect.top=n,this._clientRect.width=i,this._clientRect.height=o}else this._clientRect.left=0,this._clientRect.top=0,this._clientRect.width=0,this._clientRect.height=0;return this._clientRect}get inertAreaSize(){return this._getSettings().inertAreaSize}get smoothStop(){return this._getSettings().smoothStop}get speed(){return this._getSettings().speed}get onStart(){return this._getSettings().onStart}get onStop(){return this._getSettings().onStop}onPrepareScrollEffect(){let e=this._draggable._updateId;u.off(E,e),u.off(_,e),this._draggable._preparePositionUpdate()}onApplyScrollEffect(){this._draggable._applyPositionUpdate()}},he=class{constructor(e,t={}){this.name="autoscroll",this.version="0.0.2",this.settings=this._parseSettings(t),this._autoScrollProxy=null,e.on("start",()=>{this._autoScrollProxy||(this._autoScrollProxy=new Ve(this,e),de.addItem(this._autoScrollProxy))}),e.on("end",()=>{this._autoScrollProxy&&(de.removeItem(this._autoScrollProxy),this._autoScrollProxy=null)})}_parseSettings(e,t=At()){let{targets:n=t.targets,inertAreaSize:i=t.inertAreaSize,speed:o=t.speed,smoothStop:s=t.smoothStop,getPosition:l=t.getPosition,getClientRect:c=t.getClientRect,onStart:a=t.onStart,onStop:d=t.onStop}=e||{};return{targets:n,inertAreaSize:i,speed:o,smoothStop:s,getPosition:l,getClientRect:c,onStart:a,onStop:d}}updateSettings(e={}){this.settings=this._parseSettings(e,this.settings)}};function kt(r){return e=>{let t=new he(e,r),n=e;return n.plugins[t.name]=t,n}}var ut=new Set(["auto","scroll","overlay"]);function me(r){let e=y(r);return!!(ut.has(e.overflowY)||ut.has(e.overflowX))}function pt(r,e=[]){let t=r?.parentNode;for(;t&&!L(t);)t instanceof Element?(me(t)&&e.push(t),t=t.parentNode):t instanceof ShadowRoot?t=t.host:t=t.parentNode;return e.push(window),e}function Ct(r){let e=[];return me(r)&&e.push(r),pt(r,e),e}function Rt(r={}){let e,t=0,n=null,i,{timeout:o=250,fallback:s=()=>!0}=r,l=d=>d.preventDefault(),c=d=>{if(t){if(e){d.cancelable&&d.preventDefault();return}e===void 0&&(d.cancelable&&d.timeStamp-t>o?(e=!0,d.preventDefault()):e=!1)}};return d=>{if(!(d.sensor instanceof Y))return s(d);let{draggable:m,sensor:f,event:g}=d,x=g;if(x.pointerType==="touch"){if(x.type==="start"&&(x.srcEvent.type==="pointerdown"||x.srcEvent.type==="touchstart")){n=x.target;let W=n?Ct(n):[];W.forEach(S=>{S.addEventListener("touchmove",c,{passive:!1,capture:!0})});let D=()=>{t&&(m.off("end",D),m.sensors.forEach(S=>{S instanceof Y&&S.off("end",D)}),n?.removeEventListener("contextmenu",l),W.forEach(S=>{S.removeEventListener("touchmove",c,{capture:!0})}),t=0,e=void 0,n=null,i=void window.clearTimeout(i))};e=void 0,t=x.srcEvent.timeStamp,n?.addEventListener("contextmenu",l),m.on("end",D),m.sensors.forEach(S=>{S instanceof Y&&S.off("end",D)}),o>0&&(i=window.setTimeout(()=>{m.resolveStartPredicate(f),e=!0,i=void 0},o))}return e}return x.type==="start"&&!x.srcEvent.button}}0&&(module.exports={AUTO_SCROLL_AXIS,AUTO_SCROLL_AXIS_DIRECTION,AUTO_SCROLL_DIRECTION,AutoScroll,BaseMotionSensor,BaseSensor,Draggable,DraggableAutoScroll,KeyboardMotionSensor,KeyboardSensor,PointerSensor,SensorEventType,autoScroll,autoScrollPlugin,autoScrollSmoothSpeed,createPointerSensorStartPredicate,setTicker,ticker,tickerReadPhase,tickerWritePhase});
