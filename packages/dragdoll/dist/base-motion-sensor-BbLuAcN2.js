import{ticker as e,tickerPhases as t}from"./ticker-ep3c22TT.js";import{SensorEventType as n}from"./sensor-C-EBcfly.js";import{BaseSensor as r}from"./base-sensor-6CQrwFkA.js";var i=class extends r{constructor(){super(),this.drag=null,this._direction={x:0,y:0},this._speed=0,this._tick=this._tick.bind(this)}_createDragData(e){return{...super._createDragData(e),time:0,deltaTime:0}}_start(n){this.isDestroyed||this.drag||(super._start(n),e.on(t.read,this._tick,this._tick))}_end(n){this.drag&&(e.off(t.read,this._tick),super._end(n))}_cancel(n){this.drag&&(e.off(t.read,this._tick),super._cancel(n))}_tick(e){if(this.drag)if(e&&this.drag.time){this.drag.deltaTime=e-this.drag.time,this.drag.time=e;let t={type:`tick`,time:this.drag.time,deltaTime:this.drag.deltaTime};if(this._emitter.emit(`tick`,t),!this.drag)return;let r=this._speed*(this.drag.deltaTime/1e3),i=this._direction.x*r,a=this._direction.y*r;(i||a)&&this._move({type:n.Move,x:this.drag.x+i,y:this.drag.y+a})}else this.drag.time=e,this.drag.deltaTime=0}};export{i as BaseMotionSensor};
//# sourceMappingURL=base-motion-sensor-BbLuAcN2.js.map