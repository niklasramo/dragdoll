{"version":3,"file":"index.js","names":["listeners: Array<{ type: DndContextEventType; id: SensorEventListenerId }>","listenerIds: Array<{ type: DndContextEventType; id: SensorEventListenerId }>","sensorArray: Sensor[]","Draggable","child","options: DroppableOptions","Droppable","child"],"sources":["../src/dnd-context/dnd-context-provider.tsx","../src/dnd-context/use-dnd-context.ts","../src/draggable/use-draggable.ts","../src/draggable/draggable.tsx","../src/droppable/use-droppable.ts","../src/droppable/droppable.tsx"],"sourcesContent":["import type { CollisionData, DndContextEventCallbacks, SensorEventListenerId } from 'dragdoll';\nimport { DndContext, DndContextEventType } from 'dragdoll';\nimport { createContext, useEffect, useRef, useState } from 'react';\nimport type { DndContextProviderProps } from '../types.js';\nimport type { UseDndContextValue } from '../types.js';\n\nconst DndContextContext = createContext<UseDndContextValue<any> | null>(null);\n\nexport function DndContextProvider<T extends CollisionData = CollisionData>({\n  children,\n  options,\n  onStart,\n  onMove,\n  onEnter,\n  onLeave,\n  onCollide,\n  onEnd,\n}: DndContextProviderProps<T>) {\n  const contextRef = useRef<DndContext<T> | null>(null);\n  const [contextValue, setContextValue] = useState<UseDndContextValue<any> | null>(null);\n\n  useEffect(() => {\n    const context = new DndContext<T>(options);\n    contextRef.current = context;\n    setContextValue({ context: context as any });\n\n    return () => {\n      if (contextRef.current) {\n        contextRef.current.destroy();\n        contextRef.current = null;\n      }\n    };\n  }, [options]);\n\n  useEffect(() => {\n    if (!contextRef.current) return;\n\n    const listeners: Array<{ type: DndContextEventType; id: SensorEventListenerId }> = [];\n\n    if (onStart) {\n      const id = contextRef.current.on(\n        DndContextEventType.Start,\n        onStart as DndContextEventCallbacks<T>['start'],\n      );\n      listeners.push({ type: DndContextEventType.Start, id });\n    }\n\n    if (onMove) {\n      const id = contextRef.current.on(\n        DndContextEventType.Move,\n        onMove as DndContextEventCallbacks<T>['move'],\n      );\n      listeners.push({ type: DndContextEventType.Move, id });\n    }\n\n    if (onEnter) {\n      const id = contextRef.current.on(\n        DndContextEventType.Enter,\n        onEnter as DndContextEventCallbacks<T>['enter'],\n      );\n      listeners.push({ type: DndContextEventType.Enter, id });\n    }\n\n    if (onLeave) {\n      const id = contextRef.current.on(\n        DndContextEventType.Leave,\n        onLeave as DndContextEventCallbacks<T>['leave'],\n      );\n      listeners.push({ type: DndContextEventType.Leave, id });\n    }\n\n    if (onCollide) {\n      const id = contextRef.current.on(\n        DndContextEventType.Collide,\n        onCollide as DndContextEventCallbacks<T>['collide'],\n      );\n      listeners.push({ type: DndContextEventType.Collide, id });\n    }\n\n    if (onEnd) {\n      const id = contextRef.current.on(\n        DndContextEventType.End,\n        onEnd as DndContextEventCallbacks<T>['end'],\n      );\n      listeners.push({ type: DndContextEventType.End, id });\n    }\n\n    return () => {\n      if (contextRef.current) {\n        for (const { type, id } of listeners) {\n          contextRef.current.off(type, id);\n        }\n      }\n    };\n  }, [onStart, onMove, onEnter, onLeave, onCollide, onEnd]);\n\n  if (!contextValue) {\n    return null;\n  }\n\n  return <DndContextContext.Provider value={contextValue}>{children}</DndContextContext.Provider>;\n}\n\nexport { DndContextContext };\n","import type {\n  CollisionData,\n  DndContextEventCallbacks,\n  DndContextEventType,\n  SensorEventListenerId,\n} from 'dragdoll';\nimport { useContext, useEffect } from 'react';\nimport type { UseDndContextValue } from '../types.js';\nimport { DndContextContext } from './dnd-context-provider.js';\n\nexport function useDndContext<T extends CollisionData = CollisionData>(): UseDndContextValue<T> {\n  const context = useContext(DndContextContext);\n  if (!context) {\n    throw new Error('useDndContext must be used within DndContextProvider');\n  }\n  return context as unknown as UseDndContextValue<T>;\n}\n\nexport function useDndContextEvents<T extends CollisionData = CollisionData>(\n  handlers: Partial<DndContextEventCallbacks<T>>,\n): void {\n  const { context } = useDndContext<T>();\n\n  useEffect(() => {\n    const listenerIds: Array<{ type: DndContextEventType; id: SensorEventListenerId }> = [];\n\n    for (const [eventType, handler] of Object.entries(handlers) as [\n      keyof DndContextEventCallbacks<T>,\n      DndContextEventCallbacks<T>[keyof DndContextEventCallbacks<T>],\n    ][]) {\n      if (handler) {\n        const id = context.on(eventType as DndContextEventType, handler);\n        listenerIds.push({ type: eventType as DndContextEventType, id });\n      }\n    }\n\n    return () => {\n      for (const { type, id } of listenerIds) {\n        context.off(type, id);\n      }\n    };\n  }, [context, handlers]);\n}\n","import type {\n  DraggableId,\n  DraggableSettings,\n  KeyboardMotionSensorSettings,\n  KeyboardSensorSettings,\n  PointerSensorSettings,\n  Sensor,\n} from 'dragdoll';\nimport {\n  Draggable,\n  KeyboardMotionSensor,\n  KeyboardSensor,\n  PointerSensor,\n} from 'dragdoll';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useDndContext } from '../dnd-context/use-dnd-context.js';\nimport type { UseDraggableOptions, UseDraggableReturn } from '../types.js';\n\nexport function useDraggable<S extends Sensor[] = Sensor[]>({\n  element,\n  id,\n  pointerSensor = true,\n  keyboardSensor,\n  keyboardMotionSensor,\n  sensors,\n  elements,\n  ...settings\n}: UseDraggableOptions<S>): UseDraggableReturn<S> {\n  const draggableRef = useRef<Draggable<S> | null>(null);\n  const [draggable, setDraggable] = useState<Draggable<S> | null>(null);\n  const dndContext = useDndContext().context;\n  const elementRef = useRef<HTMLElement | SVGSVGElement | null>(null);\n\n  const createSensors = useCallback(() => {\n    if (sensors) {\n      return sensors;\n    }\n\n    const sensorArray: Sensor[] = [];\n\n    if (elementRef.current) {\n      if (pointerSensor) {\n        const opts =\n          typeof pointerSensor === 'object' ? pointerSensor : ({} as PointerSensorSettings);\n        sensorArray.push(new PointerSensor(elementRef.current, opts));\n      }\n\n      if (keyboardSensor) {\n        const opts =\n          typeof keyboardSensor === 'object' ? keyboardSensor : ({} as KeyboardSensorSettings);\n        sensorArray.push(new KeyboardSensor(elementRef.current, opts));\n      }\n\n      if (keyboardMotionSensor) {\n        const opts =\n          typeof keyboardMotionSensor === 'object'\n            ? keyboardMotionSensor\n            : ({} as KeyboardMotionSensorSettings);\n        sensorArray.push(new KeyboardMotionSensor(elementRef.current, opts));\n      }\n    }\n\n    return sensorArray as S;\n  }, [pointerSensor, keyboardSensor, keyboardMotionSensor, sensors]);\n\n  const createDraggable = useCallback(() => {\n    if (!elementRef.current || draggableRef.current) return;\n\n    const sensorArray = createSensors();\n    if (sensorArray.length === 0) return;\n\n    const draggableOptions: Partial<DraggableSettings<S>> & { id?: DraggableId } = {\n      id,\n      ...settings,\n      elements:\n        elements ||\n        ((() =>\n          elementRef.current ? [elementRef.current] : null) as DraggableSettings<S>['elements']),\n    };\n\n    const instance = new Draggable<S>(sensorArray as S, draggableOptions);\n    draggableRef.current = instance;\n    setDraggable(instance);\n\n    dndContext.addDraggables([instance]);\n\n    return instance;\n  }, [id, createSensors, elements, settings, dndContext]);\n\n  const setRef = useCallback(\n    (el: HTMLElement | SVGSVGElement | null) => {\n      elementRef.current = el;\n      if (el && !draggableRef.current) {\n        createDraggable();\n      }\n    },\n    [createDraggable],\n  );\n\n  useEffect(() => {\n    elementRef.current = element;\n    if (element && !draggableRef.current) {\n      createDraggable();\n    }\n  }, [element, createDraggable]);\n\n  useEffect(() => {\n    return () => {\n      if (draggableRef.current) {\n        dndContext.removeDraggables([draggableRef.current]);\n        draggableRef.current.destroy();\n        draggableRef.current = null;\n        setDraggable(null);\n      }\n    };\n  }, [dndContext]);\n\n  return useMemo(\n    () => ({\n      draggable,\n      ref: setRef,\n    }),\n    [draggable, setRef],\n  );\n}\n","import type { Sensor } from 'dragdoll';\nimport type { ReactElement } from 'react';\nimport { cloneElement, memo, useCallback, useRef } from 'react';\nimport type { DraggableProps } from '../types.js';\nimport { useDraggable } from './use-draggable.js';\n\nfunction DraggableComponent<S extends Sensor[] = Sensor[]>({\n  children,\n  id,\n  pointerSensor = true,\n  keyboardSensor,\n  keyboardMotionSensor,\n  sensors,\n  elements,\n  ...settings\n}: DraggableProps<S>) {\n  const elementRef = useRef<HTMLElement | SVGSVGElement | null>(null);\n\n  const { ref: setRef } = useDraggable({\n    element: elementRef.current,\n    id,\n    pointerSensor,\n    keyboardSensor,\n    keyboardMotionSensor,\n    sensors,\n    elements: elements || (() => (elementRef.current ? [elementRef.current] : null)),\n    ...settings,\n  });\n\n  const handleRef = useCallback(\n    (node: HTMLElement | SVGSVGElement | null) => {\n      elementRef.current = node;\n      setRef(node);\n\n      const child = Array.isArray(children) ? children[0] : children;\n      if (child && typeof child === 'object' && 'props' in child && child.props.ref) {\n        const ref = child.props.ref;\n        if (typeof ref === 'function') {\n          ref(node);\n        } else if (ref && 'current' in ref) {\n          (ref as { current: HTMLElement | SVGSVGElement | null }).current = node;\n        }\n      }\n    },\n    [children, setRef],\n  );\n\n  if (typeof children === 'function') {\n    return children({ ref: handleRef });\n  }\n\n  const child = Array.isArray(children) ? children[0] : children;\n\n  if (!child || typeof child !== 'object' || !('props' in child)) {\n    throw new Error('Draggable expects a single React element as children');\n  }\n\n  return cloneElement(child as ReactElement, { ref: handleRef } as any);\n}\n\nexport const Draggable = memo(DraggableComponent) as typeof DraggableComponent;\n","import type { DroppableOptions } from 'dragdoll';\nimport { Droppable } from 'dragdoll';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useDndContext } from '../dnd-context/use-dnd-context.js';\nimport type { UseDroppableOptions, UseDroppableReturn } from '../types.js';\n\nexport function useDroppable({\n  element,\n  id,\n  accept,\n  data,\n}: UseDroppableOptions): UseDroppableReturn {\n  const droppableRef = useRef<Droppable | null>(null);\n  const [droppable, setDroppable] = useState<Droppable | null>(null);\n  const dndContext = useDndContext().context;\n  const elementRef = useRef<HTMLElement | SVGSVGElement | null>(null);\n\n  const createDroppable = useCallback(() => {\n    if (!elementRef.current || droppableRef.current) return;\n\n    const options: DroppableOptions = {\n      id,\n      accept,\n      data,\n    };\n\n    const instance = new Droppable(elementRef.current, options);\n    droppableRef.current = instance;\n    setDroppable(instance);\n\n    dndContext.addDroppables([instance]);\n\n    return instance;\n  }, [id, accept, data, dndContext]);\n\n  const setRef = useCallback(\n    (el: HTMLElement | SVGSVGElement | null) => {\n      elementRef.current = el;\n      if (el && !droppableRef.current) {\n        createDroppable();\n      }\n    },\n    [createDroppable],\n  );\n\n  useEffect(() => {\n    elementRef.current = element;\n    if (element && !droppableRef.current) {\n      createDroppable();\n    }\n  }, [element, createDroppable]);\n\n  useEffect(() => {\n    if (droppableRef.current) {\n      if (accept !== undefined) {\n        droppableRef.current.accept = accept;\n      }\n      if (data !== undefined) {\n        droppableRef.current.data = data;\n      }\n    }\n  }, [accept, data]);\n\n  useEffect(() => {\n    return () => {\n      if (droppableRef.current) {\n        dndContext.removeDroppables([droppableRef.current]);\n        droppableRef.current.destroy();\n        droppableRef.current = null;\n        setDroppable(null);\n      }\n    };\n  }, [dndContext]);\n\n  return useMemo(\n    () => ({\n      droppable,\n      ref: setRef,\n    }),\n    [droppable, setRef],\n  );\n}\n","import type { ReactElement } from 'react';\nimport { cloneElement, memo, useCallback, useRef } from 'react';\nimport type { DroppableProps } from '../types.js';\nimport { useDroppable } from './use-droppable.js';\n\nfunction DroppableComponent({ children, id, accept, data }: DroppableProps) {\n  const elementRef = useRef<HTMLElement | SVGSVGElement | null>(null);\n\n  const { ref: setRef } = useDroppable({\n    element: elementRef.current,\n    id,\n    accept,\n    data,\n  });\n\n  const handleRef = useCallback(\n    (node: HTMLElement | SVGSVGElement | null) => {\n      elementRef.current = node;\n      setRef(node);\n\n      const child = Array.isArray(children) ? children[0] : children;\n      if (child && typeof child === 'object' && 'props' in child && child.props.ref) {\n        const ref = child.props.ref;\n        if (typeof ref === 'function') {\n          ref(node);\n        } else if (ref && 'current' in ref) {\n          (ref as { current: HTMLElement | SVGSVGElement | null }).current = node;\n        }\n      }\n    },\n    [children, setRef],\n  );\n\n  if (typeof children === 'function') {\n    return children({ ref: handleRef });\n  }\n\n  const child = Array.isArray(children) ? children[0] : children;\n\n  if (!child || typeof child !== 'object' || !('props' in child)) {\n    throw new Error('Droppable expects a single React element as children');\n  }\n\n  return cloneElement(child as ReactElement, { ref: handleRef } as any);\n}\n\nexport const Droppable = memo(DroppableComponent);\n"],"mappings":"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"}