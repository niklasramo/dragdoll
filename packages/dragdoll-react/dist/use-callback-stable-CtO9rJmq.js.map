{"version":3,"file":"use-callback-stable-CtO9rJmq.js","names":[],"sources":["../src/hooks/use-memo-stable.ts","../src/hooks/use-callback-stable.ts"],"sourcesContent":["import { useRef } from 'react';\n\nfunction areDepsEqual(a: readonly unknown[], b: readonly unknown[]): boolean {\n  if (a === b) return true;\n  if (a.length !== b.length) return false;\n  for (let i = 0; i < a.length; i++) {\n    if (!Object.is(a[i], b[i])) return false;\n  }\n  return true;\n}\n\nexport function useMemoStable<T>(factory: () => T, deps: readonly unknown[]): T {\n  const entryRef = useRef<{\n    deps: readonly unknown[];\n    value: T;\n  } | null>(null);\n\n  const current = entryRef.current || { deps, value: factory() };\n  if (!entryRef.current) {\n    entryRef.current = current;\n  } else if (!areDepsEqual(deps, current.deps)) {\n    current.deps = deps;\n    current.value = factory();\n  }\n\n  return current.value;\n}\n","import { useMemoStable } from './use-memo-stable.js';\n\n// eslint-disable-next-line @typescript-eslint/no-unsafe-function-type\nexport function useCallbackStable<T extends Function>(callback: T, deps: readonly unknown[]): T {\n  return useMemoStable(() => callback, deps);\n}\n"],"mappings":"+BAEA,SAAS,EAAa,EAAuB,EAAgC,CAC3E,GAAI,IAAM,EAAG,MAAO,GACpB,GAAI,EAAE,SAAW,EAAE,OAAQ,MAAO,GAClC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAE,OAAQ,IAC5B,GAAI,CAAC,OAAO,GAAG,EAAE,GAAI,EAAE,GAAG,CAAE,MAAO,GAErC,MAAO,GAGT,SAAgB,EAAiB,EAAkB,EAA6B,CAC9E,IAAM,EAAW,EAGP,KAAK,CAET,EAAU,EAAS,SAAW,CAAE,OAAM,MAAO,GAAS,CAAE,CAQ9D,OAPK,EAAS,QAEF,EAAa,EAAM,EAAQ,KAAK,GAC1C,EAAQ,KAAO,EACf,EAAQ,MAAQ,GAAS,EAHzB,EAAS,QAAU,EAMd,EAAQ,MCtBjB,SAAgB,EAAsC,EAAa,EAA6B,CAC9F,OAAO,MAAoB,EAAU,EAAK"}