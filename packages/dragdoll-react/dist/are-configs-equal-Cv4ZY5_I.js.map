{"version":3,"file":"are-configs-equal-Cv4ZY5_I.js","names":[],"sources":["../src/utils/are-configs-equal.ts"],"sourcesContent":["const hasOwnProperty = Object.prototype.hasOwnProperty;\n\nconst isPlainObject = (v: any): v is Record<string, unknown> => {\n  if (v === null || typeof v !== 'object') return false;\n  const p = Object.getPrototypeOf(v);\n  return p === Object.prototype || p === null;\n};\n\n// This is a tailor-made deep equal function for comparing config objects\n// in DragDoll's context. it should cover all the cases of options objects\n// used in DragDoll.\nexport function areConfigsEqual(a: any, b: any): boolean {\n  // Primitives / NaN / Â±0.\n  if (Object.is(a, b)) return true;\n\n  // Must both be non-null objects from here on.\n  if (a === null || b === null) return false;\n  if (typeof a !== 'object' || typeof b !== 'object') return false;\n\n  // Handle arrays. There are nested arrays in some DragDoll options so  we\n  // need to handle them deeply.\n  const aArr = Array.isArray(a);\n  const bArr = Array.isArray(b);\n  if (aArr || bArr) {\n    if (!aArr || !bArr) return false;\n    const len = a.length;\n    if (len !== b.length) return false;\n    for (let i = 0; i < len; i++) {\n      if (!areConfigsEqual(a[i], b[i])) return false;\n    }\n    return true;\n  }\n\n  // Handle Sets. We only do shallow comparison of sets as we have only\n  // primitive values in sets in DragDoll options. Note that the only option\n  // which can be set is the Draggable's dndGroups and Droppable's accept. In\n  // both of those cases it does not matter in which order the values are in the\n  // set so we can use the isSubsetOf method to check for equality.\n  const aSet = a instanceof Set;\n  const bSet = b instanceof Set;\n  if (aSet || bSet) {\n    if (!aSet || !bSet) return false;\n    if (a.size !== b.size) return false;\n    return a.isSubsetOf(b);\n  }\n\n  // Plain objects only from this point on, which we have to also handle deeply.\n  if (!isPlainObject(a) || !isPlainObject(b)) return false;\n\n  const keysA = Object.keys(a);\n  const keysB = Object.keys(b);\n  if (keysA.length !== keysB.length) return false;\n\n  for (let i = 0; i < keysA.length; i++) {\n    const k = keysA[i];\n    if (!hasOwnProperty.call(b, k)) return false;\n    if (!areConfigsEqual(a[k], b[k])) return false;\n  }\n\n  return true;\n}\n"],"mappings":"AAAA,MAAM,EAAiB,OAAO,UAAU,eAElC,EAAiB,GAAyC,CAC9D,GAAkB,OAAO,GAAM,WAA3B,EAAqC,MAAO,GAChD,IAAM,EAAI,OAAO,eAAe,EAAE,CAClC,OAAO,IAAM,OAAO,WAAa,IAAM,MAMzC,SAAgB,EAAgB,EAAQ,EAAiB,CAEvD,GAAI,OAAO,GAAG,EAAG,EAAE,CAAE,MAAO,GAI5B,GADI,IAAM,MAAQ,IAAM,MACpB,OAAO,GAAM,UAAY,OAAO,GAAM,SAAU,MAAO,GAI3D,IAAM,EAAO,MAAM,QAAQ,EAAE,CACvB,EAAO,MAAM,QAAQ,EAAE,CAC7B,GAAI,GAAQ,EAAM,CAChB,GAAI,CAAC,GAAQ,CAAC,EAAM,MAAO,GAC3B,IAAM,EAAM,EAAE,OACd,GAAI,IAAQ,EAAE,OAAQ,MAAO,GAC7B,IAAK,IAAI,EAAI,EAAG,EAAI,EAAK,IACvB,GAAI,CAAC,EAAgB,EAAE,GAAI,EAAE,GAAG,CAAE,MAAO,GAE3C,MAAO,GAQT,IAAM,EAAO,aAAa,IACpB,EAAO,aAAa,IAC1B,GAAI,GAAQ,EAGV,MAFI,CAAC,GAAQ,CAAC,GACV,EAAE,OAAS,EAAE,KAAa,GACvB,EAAE,WAAW,EAAE,CAIxB,GAAI,CAAC,EAAc,EAAE,EAAI,CAAC,EAAc,EAAE,CAAE,MAAO,GAEnD,IAAM,EAAQ,OAAO,KAAK,EAAE,CACtB,EAAQ,OAAO,KAAK,EAAE,CAC5B,GAAI,EAAM,SAAW,EAAM,OAAQ,MAAO,GAE1C,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CACrC,IAAM,EAAI,EAAM,GAEhB,GADI,CAAC,EAAe,KAAK,EAAG,EAAE,EAC1B,CAAC,EAAgB,EAAE,GAAI,EAAE,GAAG,CAAE,MAAO,GAG3C,MAAO"}