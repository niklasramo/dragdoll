import{t as e}from"./use-isomorphic-layout-effect-D2LtpjJM.js";import{n as t,t as n}from"./use-callback-stable-CtO9rJmq.js";import{useRef as r,useState as i}from"react";import{PointerSensor as a}from"dragdoll";function o(o={},s){let[c,l]=i(null),u=r(c),d=r(o),f=n(e=>{u.current?.destroy();let t=new a(e,d.current);u.current=t,l(t)},[]),p=n(()=>{u.current&&(u.current.destroy(),u.current=null,l(null))},[]),m=n(e=>{if(s!==void 0)return;if(e===null){p();return}let t=u.current;(!t||t.element!==e)&&f(e)},[s,f,p]);return d.current=o,e(()=>{if(s!==void 0)return f(s),p},[s,f,p]),e(()=>{c&&c.updateSettings(o)},[c,o]),t(()=>[c,m],[c,m])}export{o as t};
//# sourceMappingURL=use-pointer-sensor-_yqecFSk.js.map