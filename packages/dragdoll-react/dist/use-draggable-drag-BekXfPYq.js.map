{"version":3,"file":"use-draggable-drag-BekXfPYq.js","names":[],"sources":["../src/hooks/use-draggable-drag.ts"],"sourcesContent":["import { Draggable, DraggableDrag, DraggableEventType } from 'dragdoll/draggable';\nimport type { Sensor } from 'dragdoll/sensors';\nimport { useState } from 'react';\nimport { useDraggableCallback } from './use-draggable-callback.js';\n\nexport function useDraggableDrag<S extends Sensor[] = Sensor[]>(\n  draggable: Draggable<S> | null,\n  trackMove: boolean = false,\n) {\n  const [drag, setDrag] = useState<DraggableDrag<S> | null>(draggable?.drag || null);\n  const forceRender = useState<undefined | symbol>(undefined)[1];\n\n  useDraggableCallback(draggable, DraggableEventType.Start, () => {\n    setDrag(draggable?.drag || null);\n  });\n\n  useDraggableCallback(draggable, DraggableEventType.Move, () => {\n    if (trackMove && drag) forceRender(Symbol());\n  });\n\n  useDraggableCallback(draggable, DraggableEventType.End, () => {\n    setDrag(null);\n  });\n\n  return drag;\n}\n"],"mappings":"kJAKA,SAAgB,EACd,EACA,EAAqB,GACrB,CACA,GAAM,CAAC,EAAM,GAAW,EAAkC,GAAW,MAAQ,KAAK,CAC5E,EAAc,EAA6B,IAAA,GAAU,CAAC,GAc5D,OAZA,EAAqB,EAAW,EAAmB,UAAa,CAC9D,EAAQ,GAAW,MAAQ,KAAK,EAChC,CAEF,EAAqB,EAAW,EAAmB,SAAY,CACzD,GAAa,GAAM,EAAY,QAAQ,CAAC,EAC5C,CAEF,EAAqB,EAAW,EAAmB,QAAW,CAC5D,EAAQ,KAAK,EACb,CAEK"}